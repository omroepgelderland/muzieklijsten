"use strict";(self.webpackChunkmuzieklijsten=self.webpackChunkmuzieklijsten||[]).push([[884],{339:function(e,t,s){s(125);var i=s(601),a=s(926),n=s(936);var l=class{listeners=[];listenersOncer=[];on=e=>(this.listeners.push(e),{dispose:()=>this.off(e)});once=e=>{this.listenersOncer.push(e)};off=e=>{var t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)};emit=e=>{if(this.listeners.forEach((t=>t(e))),this.listenersOncer.length>0){const t=this.listenersOncer;this.listenersOncer=[],t.forEach((t=>t(e)))}};pipe=e=>this.on((t=>e.emit(t)))},r=s(692);class d{lijst_id;e_modal;$modal;e_totaal_aantal_stemmen;e_totaal_aantal_stemmers;e_filters_form;e_resultaten_tabel;resultaten_nummers;totaal_aantal_stemmen;constructor(e,t){this.lijst_id=e,this.resultaten_nummers={},this.totaal_aantal_stemmen=0,this.e_modal=h.cloneNode(!0),this.e_totaal_aantal_stemmen=this.e_modal.getElementsByClassName("totaal-aantal-stemmen").item(0),this.e_totaal_aantal_stemmers=this.e_modal.getElementsByClassName("totaal-aantal-stemmers").item(0),this.e_filters_form=this.e_modal.querySelector("form.filters"),this.e_filters_form.addEventListener("submit",this.filter.bind(this)),this.e_filters_form.addEventListener("reset",this.filter_reset.bind(this)),this.e_resultaten_tabel=this.e_modal.querySelector(".resultaten-tabel"),this.e_resultaten_tabel.id=a.Df(12),this.set_totaal_aantal_stemmers(),this.maak_resultaten_tabel();for(const e of this.e_modal.querySelectorAll(".lijst-naam"))e.textContent=t;document.getElementsByTagName("body").item(0).appendChild(this.e_modal),this.$modal=r(this.e_modal),this.$modal.modal({backdrop:!0,focus:!0,keyboard:!0}),this.$modal.on("hidden.bs.modal",(e=>{this.e_modal.remove()})),this.e_modal.addEventListener("click",this.click_handler.bind(this)),this.e_modal.addEventListener("change",this.change_handler.bind(this)),this.$modal.modal("show")}async maak_resultaten_tabel(){const e=n.b("get_resultaten_labels",{lijst:this.lijst_id}),t=await n.b("get_resultaten",{lijst:this.lijst_id});this.totaal_aantal_stemmen=0;for(const s of t){const t=new m(this,this.e_resultaten_tabel,e,s.stemmen,s.nummer);t.on_stem_verwijderd.on(this.stem_verwijderd_handler.bind(this)),t.on_verwijderd.on(this.nummer_verwijderd_handler.bind(this)),this.resultaten_nummers[s.nummer.id]=t,this.add_totaal_aantal_stemmen(s.stemmen.length)}}add_totaal_aantal_stemmen(e){this.totaal_aantal_stemmen+=e,this.e_totaal_aantal_stemmen.innerText=this.totaal_aantal_stemmen}async set_totaal_aantal_stemmers(){const e={lijst:this.lijst_id};this.e_totaal_aantal_stemmers.innerText=await n.b("get_totaal_aantal_stemmers",e)}stem_verwijderd_handler(){this.add_totaal_aantal_stemmen(-1),this.set_totaal_aantal_stemmers()}nummer_verwijderd_handler(e){this.add_totaal_aantal_stemmen(-e),this.set_totaal_aantal_stemmers()}async filter(e){e.preventDefault();let t=this.e_filters_form.elements["filter-nummers"].value.toLowerCase(),s=this.e_filters_form.elements["filter-stemmers"].value.toLowerCase();t.length<3&&(t="",this.e_filters_form.elements["filter-nummers"].value=""),s.length<3&&(s="",this.e_filters_form.elements["filter-stemmers"].value="");for(const[e,i]of Object.entries(this.resultaten_nummers))i.filter(t,s,this.get_van(),this.get_tot())}filter_reset(e){for(const e of this.e_filters_form.elements)"text"!==e.type&&"date"!==e.type||(e.value="");this.filter(e)}click_handler(e){const t=e.target;t instanceof HTMLElement&&(t.closest(".stem-verwijderen")&&this.stem_verwijderen_handler(t.closest(".stem-verwijderen")),t.closest(".nummer")&&this.toggle_nummer_stemmen_handler(t.closest(".nummer")))}change_handler(e){const t=e.target;t instanceof HTMLElement&&t.closest(".behandeld-check")&&this.check_behandeld_handler(t.closest(".behandeld-check"))}toggle_nummer_stemmen_handler(e){const t=Number.parseInt(e.getAttribute("data-nummer-id"));this.resultaten_nummers[t].toggle()}async stem_verwijderen_handler(e){const t=Number.parseInt(e.closest("[data-stemmer-id]").getAttribute("data-stemmer-id")),s=Number.parseInt(e.closest("[data-nummer-id]").getAttribute("data-nummer-id")),i=this.resultaten_nummers[s].get_stem(t);await i.verwijderen()}async check_behandeld_handler(e){const t=Number.parseInt(e.closest("[data-stemmer-id]").getAttribute("data-stemmer-id")),s=Number.parseInt(e.closest("[data-nummer-id]").getAttribute("data-nummer-id")),i=this.resultaten_nummers[s].get_stem(t);await i.behandeld_handler()}get_van(){const e=new Date(this.e_filters_form.elements.van.value);return isNaN(e)?null:(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e)}get_tot(){const e=new Date(this.e_filters_form.elements.tot.value);return isNaN(e)?null:(e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e)}}class m{resultaten_modal;e_container;resultaten_stemmen;e_tr_uitklap;e_tr_gegevens;e_aantal_stemmen;nummer_id;titel;artiest;on_stem_verwijderd;on_verwijderd;is_zichtbaar;labels_promise;stemmen;stemmen_gefilterd;constructor(e,t,s,i,a){this.resultaten_stemmen={},this.on_stem_verwijderd=new l,this.on_verwijderd=new l,this.resultaten_modal=e,this.e_container=t,this.is_zichtbaar=!0,this.labels_promise=s,this.stemmen=this.stemmen_gefilterd=i,this.stemmen_filter=null,this.e_tr_uitklap=_.item(0).cloneNode(!0),this.e_aantal_stemmen=this.e_tr_uitklap.getElementsByClassName("aantal-stemmen").item(0),this.e_container.appendChild(this.e_tr_uitklap),this.set_nummer(a),this.stemmen.length>0&&this.e_tr_uitklap.classList.add("heeft-stemmen"),this.update_aantal_stemmen(),this.update_behandeld()}set_nummer(e){let{id:t,titel:s,artiest:i,is_vrijekeuze:a}=e;this.nummer_id=t,this.titel=s,this.artiest=i,this.e_tr_uitklap.id=`nummer-${this.nummer_id}`,this.e_tr_uitklap.setAttribute("data-nummer-id",this.nummer_id);for(const e of this.e_tr_uitklap.getElementsByClassName("nummer-titel"))e.appendChild(document.createTextNode(this.titel));for(const e of this.e_tr_uitklap.getElementsByClassName("nummer-artiest"))e.appendChild(document.createTextNode(this.artiest));a&&this.e_tr_uitklap.classList.add("vrijekeuze")}async maak_velden_labels(){if(null==this.e_tr_gegevens)throw new Error("Nummer is niet uitgeklapt");const e=this.e_tr_gegevens.querySelector("thead tr"),t=e.firstChild,s=await this.labels_promise;for(const i of s){const s=document.createElement("th");s.appendChild(document.createTextNode(i)),e.insertBefore(s,t)}}maak_stemmen(){if(null==this.e_tr_gegevens)throw new Error("Nummer is niet uitgeklapt");const e=this.e_tr_gegevens.getElementsByTagName("tbody").item(0);for(const t of this.stemmen_gefilterd){const s=new o(this,e,t);s.on_change_is_behandeld.on(this.behandeld_change_handler.bind(this,t.stemmer_id)),s.on_verwijderd.on(this.stem_verwijderd_handler.bind(this,t.stemmer_id)),this.resultaten_stemmen[t.stemmer_id]=s}}behandeld_change_handler(e,t){const s=this.stemmen.findIndex((t=>t.stemmer_id===e));this.stemmen[s].is_behandeld=t,this.update_behandeld()}update_behandeld(){this.stemmen.every((e=>e.is_behandeld))?this.e_tr_uitklap.classList.add("success"):this.e_tr_uitklap.classList.remove("success")}stem_verwijderd_handler(e){const t=this.stemmen.findIndex((t=>t.stemmer_id===e));if(-1===t)throw new Error("stem niet gevonden");this.stemmen.splice(t,1),delete this.resultaten_stemmen[e],this.on_stem_verwijderd.emit(),this.update_aantal_stemmen(),0===this.stemmen.length&&(this.inklappen(),this.e_tr_uitklap.remove())}update_aantal_stemmen(){this.e_aantal_stemmen.innerText=this.stemmen.length}filter(e,t,s,i){this.inklappen(),this.is_zichtbaar=""==e||this.titel.toLowerCase().includes(e)||this.artiest.toLowerCase().includes(e),this.is_zichtbaar&&(this.filter_stemmen({tekst:t,van:s,tot:i}),this.is_zichtbaar&=this.stemmen_gefilterd.length>0),this.is_zichtbaar?this.e_tr_uitklap.classList.remove("verborgen"):this.e_tr_uitklap.classList.add("verborgen")}filter_stemmen(e){if(""!==e.tekst||null!=e.van||null!=e.tot){this.stemmen_gefilterd=[];for(const t of this.stemmen){const s=t.velden.map((e=>e.waarde)).join(" ").toLowerCase()+t.toelichting;(""===e.tekst||null===e.tekst||s.includes(e.tekst))&&(null!=e.van&&new Date(t.timestamp)<e.van||null!=e.tot&&new Date(t.timestamp)>e.tot||this.stemmen_gefilterd.push(t))}}else this.stemmen_gefilterd=this.stemmen}is_uitgeklapt(){return null!=this.e_tr_gegevens}inklappen(){null!=this.e_tr_gegevens&&(this.e_tr_gegevens.remove(),this.e_tr_gegevens=void 0,this.e_tr_uitklap.classList.add("collapsed"))}uitklappen(){null==this.e_tr_gegevens&&(this.e_tr_uitklap.classList.remove("collapsed"),this.e_tr_gegevens=_.item(1).cloneNode(!0),this.e_tr_uitklap.after(this.e_tr_gegevens),this.e_tr_gegevens.id=`nummer-stemmers-${this.nummer_id}`,this.e_tr_gegevens.setAttribute("data-nummer-id",this.nummer_id),this.maak_velden_labels(),this.maak_stemmen())}toggle(){this.is_uitgeklapt()?this.inklappen():this.uitklappen()}get_stem(e){return this.resultaten_stemmen[e]}}class o{resultaten_nummer;e_tr;e_behandeld_input;is_behandeld;stemmer_id;metadata_voor_filter;timestamp;on_change_is_behandeld;on_verwijderd;is_zichtbaar;constructor(e,t,s){let{stemmer_id:i,ip:a,is_behandeld:n,toelichting:r,timestamp:d,velden:m}=s;this.on_change_is_behandeld=new l,this.on_verwijderd=new l,this.resultaten_nummer=e,this.stemmer_id=i,this.metadata_voor_filter=[],this.timestamp=new Date(d),this.is_behandeld=n,this.is_zichtbaar=!0,this.e_tr=u.cloneNode(!0),this.e_tr.setAttribute("data-stemmer-id",this.stemmer_id),this.e_behandeld_input=this.e_tr.getElementsByTagName("input").item(0),this.e_behandeld_input.checked=this.is_behandeld,this.update_behandeld();for(const e of this.e_tr.getElementsByClassName("stemmer-timestamp"))e.appendChild(document.createTextNode(this.timestamp.toLocaleString("nl-NL",{dateStyle:"short",timeStyle:"short"})));for(const e of this.e_tr.getElementsByClassName("stem-toelichting"))e.appendChild(document.createTextNode(r));this.maak_velden(m),this.e_tr.firstChild.setAttribute("title",a),t.appendChild(this.e_tr)}maak_velden(e){const t=this.e_tr.firstChild;for(const s of e){this.metadata_voor_filter.push(s.waarde);const e=document.createElement("td");if(null!==s.waarde&&""!==s.waarde){if("email"===s.type||"tel"===s.type){const t=document.createElement("a");let i,n="";"email"===s.type&&(n="mailto:"),"tel"===s.type&&(n="tel:"),t.setAttribute("href",`${n}${s.waarde}`),i="tel"===s.type?a.Jc(s.waarde):s.waarde,t.appendChild(document.createTextNode(i)),e.appendChild(t)}else e.appendChild(document.createTextNode(s.waarde));"email"!==s.type&&"tel"!==s.type&&"postcode"!==s.type||e.classList.add("nobreak")}this.e_tr.insertBefore(e,t)}}async behandeld_handler(){try{await n.b("stem_set_behandeld",{nummer:this.resultaten_nummer.nummer_id,lijst:this.resultaten_nummer.resultaten_modal.lijst_id,stemmer:this.stemmer_id,waarde:this.e_behandeld_input.checked}),this.is_behandeld=this.e_behandeld_input.checked,this.on_change_is_behandeld.emit(this.is_behandeld),this.update_behandeld()}catch(e){this.e_behandeld_input.checked=!this.e_behandeld_input.checked}}update_behandeld(){this.is_behandeld?this.e_tr.classList.add("success"):this.e_tr.classList.remove("success")}async verwijderen(){await n.b("verwijder_stem",{nummer:this.resultaten_nummer.nummer_id,lijst:this.resultaten_nummer.resultaten_modal.lijst_id,stemmer:this.stemmer_id}),this.e_tr.remove(),this.on_verwijderd.emit()}}class c{lijst_id;e_modal;$modal;e_form;e_velden_zichtbaar_kolom;e_velden_verplicht_kolom;on_lijst_gemaakt;on_lijst_veranderd;on_lijst_verwijderd;constructor(e){this.on_lijst_gemaakt=new l,this.on_lijst_veranderd=new l,this.on_lijst_verwijderd=new l,this.lijst_id=e,this.e_modal=p.cloneNode(!0),this.e_form=this.e_modal.getElementsByTagName("form").item(0),this.e_velden_zichtbaar_kolom=this.e_modal.getElementsByClassName("velden-zichtbaar-kolom").item(0),this.e_velden_verplicht_kolom=this.e_modal.getElementsByClassName("velden-verplicht-kolom").item(0),this.is_nieuw()?(this.e_modal.classList.add("is-nieuw"),this.maak_lege_veld_checks()):this.vul_data(),document.getElementsByTagName("body").item(0).appendChild(this.e_modal),this.e_form.addEventListener("submit",this.opslaan.bind(this)),this.e_form.elements["verwijder-lijst"].addEventListener("click",this.verwijder_lijst.bind(this)),this.$modal=r(this.e_modal),this.$modal.modal({backdrop:!0,focus:!0,keyboard:!0}),this.$modal.on("hidden.bs.modal",this.destroy.bind(this)),this.$modal.modal("show")}is_nieuw(){return void 0===this.lijst_id}async vul_data(){this.e_form.elements.lijst.value=this.lijst_id;const e=await n.b("get_beheer_lijstdata",{lijst:this.lijst_id});for(const t of this.e_modal.querySelectorAll(".lijst-naam"))t.textContent=e.naam;this.e_form.elements["is-actief"].checked=e.is_actief,this.e_form.elements.naam.value=e.naam,this.e_form.elements.minkeuzes.value=e.minkeuzes,this.e_form.elements.maxkeuzes.value=e.maxkeuzes,this.e_form.elements.vrijekeuzes.value=e.vrijekeuzes,this.e_form.elements["stemmen-per-ip"].value=e.stemmen_per_ip,this.e_form.elements["artiest-eenmalig"].checked=e.artiest_eenmalig,this.e_form.elements["mail-stemmers"].checked=e.mail_stemmers,this.e_form.elements["random-volgorde"].checked=e.random_volgorde,this.e_form.elements.recaptcha.checked=e.recaptcha,this.e_form.elements.email.value=e.email,this.e_form.elements["bedankt-tekst"].value=e.bedankt_tekst;for(const t of e.velden)this.maak_veld_checks(t)}async maak_lege_veld_checks(){const e=await n.b("get_alle_velden",{});for(const t of e)this.maak_veld_checks(t)}maak_veld_checks(e){const t=a.Df(16),s=a.Df(16),i=document.createElement("div"),n=document.createElement("label"),l=document.createElement("input"),r=document.createTextNode(e.label),d=document.createElement("div"),m=document.createElement("label"),o=document.createElement("input"),c=document.createTextNode("Verplicht");this.e_velden_zichtbaar_kolom.appendChild(i),i.appendChild(n),n.appendChild(l),n.appendChild(r),this.e_velden_verplicht_kolom.appendChild(d),d.appendChild(m),m.appendChild(o),m.appendChild(c),i.classList.add("checkbox"),d.classList.add("checkbox"),l.type="checkbox",l.id=t,l.name=`velden[${e.id}][tonen]`,l.checked=e.tonen,l.setAttribute("data-input-verplicht",s),l.addEventListener("change",this.check_verplicht.bind(this)),n.for=t,o.type="checkbox",o.id=s,o.name=`velden[${e.id}][verplicht]`,o.checked=e.verplicht,o.disabled=!e.tonen,m.for=s}async opslaan(e){e.preventDefault();const t=new FormData(this.e_form);if(this.is_nieuw())try{const e=await n.b("lijst_maken",t);this.on_lijst_gemaakt.emit({id:e,naam:t.get("naam")}),this.$modal.modal("hide")}catch(e){alert(e)}else try{await n.b("lijst_opslaan",t),this.on_lijst_veranderd.emit({id:this.lijst_id,naam:t.get("naam")}),this.$modal.modal("hide")}catch(e){alert(e)}}async verwijder_lijst(e){if(confirm("Deze lijst verwijderen?\nOok alle stemmen op nummers uit deze lijst worden verwijderd."))try{await n.b("verwijder_lijst",{lijst:this.lijst_id}),this.on_lijst_verwijderd.emit({id:this.lijst_id}),this.$modal.modal("hide")}catch(e){alert(e)}}check_verplicht(e){const t=e.target.getAttribute("data-input-verplicht"),s=document.getElementById(t);s instanceof HTMLInputElement&&(e.target.checked?s.disabled=!1:(s.disabled=!0,s.checked=!1))}destroy(){this.e_modal.remove()}}const h=a.am('<div class="modal fade resultaten-modal" role="dialog"> <div class="modal-dialog"> <div class="modal-header modal-top"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> <h4 class="modal-title">Resultaten van de lijst ‘<span class="lijst-naam"></span>’</h4> </div> <div class="modal-content"> <form class="filters" autocomplete="off"> <div class="input-group"> <input type="text" name="filter-nummers" class="form-control" placeholder="Filter nummers"> </div> <div class="input-group"> <input type="text" name="filter-stemmers" class="form-control" placeholder="Filter stemmers"> </div> <div class="input-group date"> <label>van:</label> <input type="date" name="van" class="form-control"> </div> <div class="input-group date"> <label>tot:</label> <input type="date" name="tot" class="form-control"> </div> <div> <input type="submit" value="Filters toepassen" class="btn btn-default"> </div> <div> <input type="reset" value="Filters wissen" class="btn btn-default"> </div> </form> <div class="table-responsive"> <table class="table table-striped"> <thead> <tr> <th></th> <th>Titel</th> <th>Artiest</th> <th class="text-center"><span class="totaal-aantal-stemmen"></span> stemmen<br> <span class="totaal-aantal-stemmers"></span> stemmers</th> </tr> </thead> <tbody class="resultaten-tabel"></tbody> </table> </div> </div> <div class="modal-footer modal-end"> <button type="button" class="btn btn-default" data-dismiss="modal">Sluiten</button> </div> </div> </div> ').item(0),_=a.am('<tr class="nummer hand collapsed"> <td class="text-center"> <i class="fa fa-plus-square heeft-stemmen"></i> <i class="fa fa-minus-square heeft-stemmen"></i> </td> <td class="nummer-titel"></td> <td class="nummer-artiest"></td> <td class="text-center aantal-stemmen"></td> </tr> <tr> <td class="hidden-row" colspan="5"> <div class="bs-callout bs-callout-info"> <table class="table"> <thead> <tr> <th>Aangevraagd op</th> <th>Toelichting</th> <th class="text-center">Behandeld</th> </tr> </thead> <tbody></tbody> </table> </div> </td> </tr> '),u=a.am('<tr class="stemmer"> <td class="stemmer-timestamp nobreak"></td> <td class="stem-toelichting"></td> <td class="text-center hand"> <input type="checkbox" class="hand behandeld-check"> </td> <td> <div class="hand stem-verwijderen" title="Stem verwijderen"> <i class="fa fa-times fa-1 text-danger"></i> </div> </td> </tr> ').item(0),p=a.am('<div class="modal fade lijstinstellingen beheer-modal" id="beheer" role="dialog"> <div class="modal-dialog"> <div class="modal-header modal-top"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> <h4 class="modal-title"> <span class="not-is-nieuw">Beheer van de lijst ‘<span class="lijst-naam"></span>’</span> <span class="is-nieuw">Nieuwe muzieklijst</span> </h4> </div> <div class="modal-content"><div class="container-fluid beheercontainer"> <form class="form-horizontal" role="form" method="post" id="beheer-lijst"> <input type="hidden" name="lijst"> <div class="separator"></div> <div class="form-group"> <label class="control-label col-sm-2" for="naam">Naam lijst:</label> <div class="col-sm-10"> <input type="text" class="form-control" id="naam" name="naam" required> </div> </div> <div class="separator"></div> <div class="form-group"> <label class="control-label col-sm-2" for="email">E-mailadressen voor reacties: <span class="glyphicon glyphicon-info-sign pointer" title="Meerdere e-mailadressen scheiden door een komma ( , )"></span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="email" name="email"> </div> </div> <div class="separator"></div> <div class="form-group"> <label class="control-label col-sm-2" for="bedankt-tekst">Tekst voor bezoekers na het stemmen: <span class="glyphicon glyphicon-info-sign pointer" title="De tekst die de stemmers te zien krijgen nadat ze hun stem hebben ingediend."></span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="bedankt-tekst" name="bedankt-tekst" value="Bedankt voor je keuze." required> </div> </div> <div class="separator"></div> <div class="form-group"> <label class="control-label col-sm-2" for="velden">Velden tonen:</label> <div class="col-sm-2 velden-zichtbaar-kolom"></div> <div class="col-sm-8 velden-verplicht-kolom"></div> </div> <div class="separator"></div> <div class="form-group"> <label class="control-label col-sm-2" for="velden">Opties:</label> <div class="col-sm-10"> Minimum aantal keuzes <input type="number" class="form-control" id="minkeuzes" name="minkeuzes" min="1" required><br> Maximum aantal keuzes <input type="number" class="form-control" id="maxkeuzes" name="maxkeuzes" min="1" required><br> Aantal vrije keuzes <input type="number" class="form-control" id="vrijekeuzes" name="vrijekeuzes" min="0" required><br> Aantal stemmen per IP (leeglaten voor onbeperkt) <input type="number" class="form-control" id="stemmen-per-ip" name="stemmen-per-ip" min="1"><br> <input type="checkbox" id="is-actief" name="is-actief"> Lijst is actief (stemmen staat aan)<br> <input type="checkbox" id="artiest-eenmalig" name="artiest-eenmalig"> Artiesten eenmalig te selecteren <br> <input type="checkbox" id="recaptcha" name="recaptcha"> Re-Captcha<br> <input type="checkbox" id="mail-stemmers" name="mail-stemmers"> Stuur stemmers een e-mail nadat zij hebben gestemd<br> <input type="checkbox" id="random-volgorde" name="random-volgorde"> Toon nummers in willekeurige volgorde<br> </div> </div> <div class="separator"></div> <div class="form-group"> <div class="col-sm-2"></div> <div class="col-sm-10"> <input type="submit" class="btn btn-primary" value="Opslaan"> </div> </div> <div class="form-group beheer-bestaand"> <div class="col-sm-2"></div> <div class="col-sm-10"> <input type="button" name="verwijder-lijst" class="btn btn-danger not-is-nieuw" value="Lijst verwijderen"> </div> </div> <div class="separator beheer-bestaand"></div> </form> </div></div> <div class="modal-footer modal-end"> <button type="button" class="btn btn-default" data-dismiss="modal">Sluiten</button> </div> </div> </div> ').item(0);new class{lijst_id;lijst_naam_promise;e_body;e_lijst_select;e_geselecteerd_lijst;e_aantal_geselecteerde_nummers;geselecteerde_nummers;tabel;constructor(){this.e_body=document.getElementsByTagName("body").item(0),this.e_lijst_select=document.getElementById("lijstselect"),this.e_geselecteerd_lijst=document.getElementById("geselecteerd-lijst"),this.e_aantal_geselecteerde_nummers=document.getElementById("aantal-geselecteerde-nummers"),this.lijst_naam_promise=Promise.resolve("?"),this.geselecteerde_nummers=[],this.vul_metadata().then((()=>{const e=new URLSearchParams(document.location.search).get("lijst");for(const t of this.e_lijst_select.options)if(t.value==e){t.selected=!0,this.set_lijst(e);break}})),this.tabel=new i.A(document.getElementById("beschikbare-nummers"),{processing:!0,serverSide:!0,ajax:(e,t,s)=>{e.is_vrijekeuze=!1,a.em(e,t,s)},columnDefs:[{targets:0,searchable:!1,orderable:!1,className:"dt-body-center",render:(e,t,s,i)=>{let[a,n,l,r]=s;const d=document.createElement("input");return d.setAttribute("type","checkbox"),d.outerHTML}}],order:[1,"asc"],rowCallback:this.toon_geselecteerd.bind(this),language:{lengthMenu:"_MENU_ nummers per pagina",zeroRecords:"Geen nummers gevonden",info:"Pagina _PAGE_ van _PAGES_",infoEmpty:"Geen nummers gevonden",infoFiltered:"(gefilterd van _MAX_ totaal)",search:"Zoeken:",paginate:{first:"Eerste",last:"Laatste",next:"Volgende",previous:"Vorige"}}}),document.addEventListener("click",this.click_handler.bind(this)),document.getElementById("lijstselect").addEventListener("change",this.lijst_select_handler.bind(this)),document.getElementById("beheerknop").addEventListener("click",this.beheer_knop_handler.bind(this)),document.getElementById("nieuwknop").addEventListener("click",this.nieuw_knop_handler.bind(this)),document.getElementById("resultatenknop").addEventListener("click",this.resultaten_knop_handler.bind(this))}click_handler(e){const t=e.target;t instanceof HTMLElement&&t.closest("#beschikbare-nummers tbody>tr")&&this.checkbox_handler(t.closest("tr"))}async set_lijst(e){this.lijst_id=e;const t=new URL(location.href),s=t.searchParams;s.set("lijst",this.lijst_id),t.params=s,window.history.replaceState(null,null,t),this.e_body.classList.add("lijst-geselecteerd");for(const e of document.getElementsByClassName("bewerk-knop"))e.removeAttribute("title");const i=this.vul_lijst_metadata();this.lijst_naam_promise=i.then((e=>e.naam)),await i,this.tabel.draw()}async vul_metadata(){const e=await n.b("get_metadata",{});for(const t of document.getElementsByClassName("organisatie"))t.innerText=e.organisatie;for(const t of e.lijsten)this.e_lijst_select.add(new Option(t.naam,t.id));document.getElementById("totaal-aantal-nummers").innerText=e.totaal_aantal_nummers;for(const t of document.getElementsByClassName("nimbus-url"))t.href=e.nimbus_url}async vul_lijst_metadata(){const e=await n.b("get_lijst_metadata",{lijst:this.lijst_id});for(const t of document.getElementsByClassName("lijst-naam"))t.innerText=e.naam;document.getElementsByTagName("title").item(0).innerText=`Muzieklijsten beheer – ${e.naam}`;for(const t of document.getElementsByClassName("iframe-url"))t.value=e.iframe_url;for(const t of document.getElementsByClassName("iframe-code"))t.value=`<iframe src="${e.iframe_url}" frameborder="0" height="3000" style="width: 100%; height: 3000px; border: none;">`;this.geselecteerde_nummers=e.nummer_ids,this.vul_lijst_geselecteerde_nummers();const t=document.querySelectorAll("#beschikbare-nummers_length select, #beschikbare-nummers_filter input");for(const e of t)e.classList.add("form-control");return e}async checkbox_handler(e){const t=e.matches('input[type="checkbox"]')?e:e.querySelector('input[type="checkbox"]');let[s,i,a,n]=this.tabel.row(e).data();s=Number.parseInt(s);const l=this.geselecteerde_nummers.indexOf(s);if(-1===l)try{await this.nummer_toevoegen(s),this.geselecteerde_nummers.push(s),t.checked=!0,e.classList.add("selected"),await this.vul_lijst_geselecteerde_nummers()}catch(e){t.prop.checked=!1,alert(e)}else try{await this.nummer_verwijderen(s),this.geselecteerde_nummers.splice(l,1),t.checked=!1,e.classList.remove("selected"),await this.vul_lijst_geselecteerde_nummers()}catch(e){t.checked=!0,alert(e)}}lijst_select_handler(e){e.target.value>0?this.set_lijst(e.target.value):this.unset_lijst()}toon_geselecteerd(e,t,s){let[i,a,n,l]=t;i=Number.parseInt(i),this.geselecteerde_nummers.includes(i)&&(e.querySelector('input[type="checkbox"]').checked=!0,e.classList.add("selected"))}nummer_toevoegen(e){return n.b("lijst_nummer_toevoegen",{lijst:this.lijst_id,nummer:e})}nummer_verwijderen(e){return n.b("lijst_nummer_verwijderen",{lijst:this.lijst_id,nummer:e})}async vul_lijst_geselecteerde_nummers(){const e=await n.b("get_geselecteerde_nummers",{lijst:this.lijst_id});for(;this.e_geselecteerd_lijst.lastChild;)this.e_geselecteerd_lijst.removeChild(this.e_geselecteerd_lijst.lastChild);this.e_aantal_geselecteerde_nummers.innerText=e.length;for(const t of e){const e=document.createElement("tr");this.e_geselecteerd_lijst.appendChild(e);const s=document.createElement("td");e.appendChild(s),s.appendChild(document.createTextNode(t.titel));const i=document.createElement("td");e.appendChild(i),i.appendChild(document.createTextNode(t.artiest));const a=document.createElement("td");e.appendChild(a),a.appendChild(document.createTextNode(t.jaar??""))}}async resultaten_knop_handler(e){e.preventDefault(),new d(this.lijst_id,await this.lijst_naam_promise)}nieuw_knop_handler(e){e.preventDefault();(new c).on_lijst_gemaakt.on(this.lijst_toegevoegd.bind(this))}beheer_knop_handler(e){e.preventDefault();const t=new c(this.lijst_id);t.on_lijst_veranderd.on(this.lijst_veranderd.bind(this)),t.on_lijst_verwijderd.on(this.lijst_verwijderd.bind(this))}lijst_toegevoegd(e){this.e_lijst_select.add(new Option(e.naam,e.id,!1,!0)),this.set_lijst(e.id)}lijst_veranderd(e){this.e_lijst_select.item(this.e_lijst_select.selectedIndex).text=e.naam}lijst_verwijderd(){this.e_lijst_select.remove(this.e_lijst_select.selectedIndex),this.unset_lijst()}unset_lijst(e){this.lijst_id=void 0;const t=new URL(location.href),s=t.searchParams;s.delete("lijst"),t.params=s,window.history.replaceState(null,null,t),this.e_body.classList.remove("lijst-geselecteerd"),document.getElementsByTagName("title").item(0).innerText="Muzieklijsten beheer",this.geselecteerde_nummers=[],this.vul_lijst_geselecteerde_nummers()}}},926:function(e,t,s){s.d(t,{Df:function(){return r},Jc:function(){return l},am:function(){return n},em:function(){return a}});var i=s(936);async function a(e,t,s){t(await i.b("vul_datatables",e))}function n(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children}function l(e){const t=[/^(\+31)((?:11|16|17|18|22|25|29|31|32|34|41|44|47|47|48|49|51|52|54|56|57|59|67|80|90)[0-9])([0-9]{2})([0-9]{2})([0-9]{2})$/,/^(\+31)(6)([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})$/,/^(\+31)([0-9]{2})([0-9]{3})([0-9]{2})([0-9]{2})$/];for(const s of t){let t=e.match(s);if(null!==t&&t.length>0)return t.shift(),t.join(" ")}return e}function r(e){let t="";for(;t.length<e;)t+=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36);return t.substring(0,e)}},936:function(e,t,s){function i(e,t){return new Promise(((s,i)=>{const n=new XMLHttpRequest;let l;n.open("POST","ajax.php",!0),n.onload=a.bind(void 0,n,s,i),n.onerror=a.bind(void 0,n,s,i),t instanceof FormData?(t.append("functie",e),l=t):(l=JSON.stringify({functie:e,...t}),n.setRequestHeader("Content-Type","application/json")),n.send(l)}))}function a(e,t,s,i){try{const i=JSON.parse(e.response);!1!==i.error?s(new Error(i.errordata)):t(i.data)}catch(t){s(new Error(e.responseText))}}s.d(t,{b:function(){return i}})}},function(e){e.O(0,[778,408],(function(){return t=339,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMxRkMsRUFBSU0sUUFBV0QsRUFBOEN6VixVQUFLcUksRUFBVytNLEVBQUsvSCxFQUFTOEgsR0FHdEY3SyxhQUFnQitCLFVBQ2pCL0IsRUFBS3FMLE9BQU8sVUFBV1QsR0FDdkJJLEVBQVloTCxJQUVaZ0wsRUFBWU0sS0FBS0MsVUFBVSxDQUN6QlgsUUFBU0EsS0FDTjVLLElBRUw4SyxFQUFJVSxpQkFBaUIsZUFBZ0IscUJBRXpDVixFQUFJVyxLQUFLVCxFQUFVLEdBRXpCLENBT0EsU0FBU0csRUFDUEwsRUFDQS9ILEVBQ0E4SCxFQUNBN1csR0FFQSxJQUNJLE1BQU1nTSxFQUFPc0wsS0FBS0ksTUFBTVosRUFBSWEsV0FDUixJQUFmM0wsRUFBSzRMLE1BQ05mLEVBQU8sSUFBSTdPLE1BQU1nRSxFQUFLNkwsWUFFdEI5SSxFQUFRL0MsRUFBS0EsS0FFckIsQ0FBRSxNQUFPNEwsR0FDTGYsRUFBTyxJQUFJN08sTUFBTThPLEVBQUlnQixjQUN6QixDQUNGLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tdXppZWtsaWpzdGVuLy4vc3JjL2pzL2xpYi9UeXBlZEV2ZW50LnRzIiwid2VicGFjazovL211emlla2xpanN0ZW4vLi9zcmMvanMvYWRtaW4uanMiLCJ3ZWJwYWNrOi8vbXV6aWVrbGlqc3Rlbi8uL3NyYy9odG1sL2FkbWluLXJlc3VsdGF0ZW4tbW9kYWwuaHRtbCIsIndlYnBhY2s6Ly9tdXppZWtsaWpzdGVuLy4vc3JjL2h0bWwvYWRtaW4tcmVzdWx0YXRlbi1udW1tZXIuaHRtbCIsIndlYnBhY2s6Ly9tdXppZWtsaWpzdGVuLy4vc3JjL2h0bWwvYWRtaW4tcmVzdWx0YXRlbi1zdGVtLmh0bWwiLCJ3ZWJwYWNrOi8vbXV6aWVrbGlqc3Rlbi8uL3NyYy9odG1sL2FkbWluLWJlaGVlci1tb2RhbC5odG1sIiwid2VicGFjazovL211emlla2xpanN0ZW4vLi9zcmMvanMvbGliL2Z1bmN0aWVzLnRzIiwid2VicGFjazovL211emlla2xpanN0ZW4vLi9zcmMvanMvbGliL3NlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgTGlzdGVuZXI8VD4ge1xuICAgIChldmVudDogVCk6IGFueTtcbn1cblxuaW50ZXJmYWNlIERpc3Bvc2FibGUge1xuICAgIGRpc3Bvc2UoKTogdm9pZDtcbn1cblxuLyoqIHBhc3NlcyB0aHJvdWdoIGV2ZW50cyBhcyB0aGV5IGhhcHBlbi4gWW91IHdpbGwgbm90IGdldCBldmVudHMgZnJvbSBiZWZvcmUgeW91IHN0YXJ0IGxpc3RlbmluZyAqL1xuY2xhc3MgVHlwZWRFdmVudDxUPiB7XG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6IExpc3RlbmVyPFQ+W10gPSBbXTtcbiAgICBwcml2YXRlIGxpc3RlbmVyc09uY2VyOiBMaXN0ZW5lcjxUPltdID0gW107XG5cbiAgICBvbiA9IChsaXN0ZW5lcjogTGlzdGVuZXI8VD4pOiBEaXNwb3NhYmxlID0+IHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB0aGlzLm9mZihsaXN0ZW5lcilcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBvbmNlID0gKGxpc3RlbmVyOiBMaXN0ZW5lcjxUPik6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc09uY2VyLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIG9mZiA9IChsaXN0ZW5lcjogTGlzdGVuZXI8VD4pID0+IHtcbiAgICAgICAgdmFyIGNhbGxiYWNrSW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrSW5kZXggPiAtMSkgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGNhbGxiYWNrSW5kZXgsIDEpO1xuICAgIH1cblxuICAgIGVtaXQgPSAoZXZlbnQ6IFQpID0+IHtcbiAgICAgICAgLyoqIFVwZGF0ZSBhbnkgZ2VuZXJhbCBsaXN0ZW5lcnMgKi9cbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKGV2ZW50KSk7XG5cbiAgICAgICAgLyoqIENsZWFyIHRoZSBgb25jZWAgcXVldWUgKi9cbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzT25jZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdG9DYWxsID0gdGhpcy5saXN0ZW5lcnNPbmNlcjtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzT25jZXIgPSBbXTtcbiAgICAgICAgICAgIHRvQ2FsbC5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBpcGUgPSAodGU6IFR5cGVkRXZlbnQ8VD4pOiBEaXNwb3NhYmxlID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub24oKGUpID0+IHRlLmVtaXQoZSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHlwZWRFdmVudDtcbmV4cG9ydCB7XG4gICAgTGlzdGVuZXIsXG4gICAgRGlzcG9zYWJsZVxufVxuIiwiLy8gTGlicmFyaWVzIGpzXG5pbXBvcnQgJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgRGF0YVRhYmxlLCAqIGFzIGRhdGF0YWJsZXMgZnJvbSAnZGF0YXRhYmxlcy5uZXQtZHQnO1xuXG4vLyBQcm9qZWN0IGpzXG5pbXBvcnQgKiBhcyBmdW5jdGllcyBmcm9tICdAbXV6aWVrbGlqc3Rlbi9mdW5jdGllcyc7XG5pbXBvcnQgKiBhcyBzZXJ2ZXIgZnJvbSAnQG11emlla2xpanN0ZW4vc2VydmVyJztcbmltcG9ydCBUeXBlZEV2ZW50IGZyb20gJ0BtdXppZWtsaWpzdGVuL1R5cGVkRXZlbnQnO1xuXG4vLyBjc3NcbmltcG9ydCAnL3NyYy9zY3NzL2FkbWluLnNjc3MnO1xuXG4vLyBIVE1MXG5pbXBvcnQgaHRtbF9yZXN1bHRhdGVuX21vZGFsIGZyb20gJy9zcmMvaHRtbC9hZG1pbi1yZXN1bHRhdGVuLW1vZGFsLmh0bWwnO1xuaW1wb3J0IGh0bWxfcmVzdWx0YXRlbl9udW1tZXIgZnJvbSAnL3NyYy9odG1sL2FkbWluLXJlc3VsdGF0ZW4tbnVtbWVyLmh0bWwnO1xuaW1wb3J0IGh0bWxfcmVzdWx0YXRlbl9zdGVtIGZyb20gJy9zcmMvaHRtbC9hZG1pbi1yZXN1bHRhdGVuLXN0ZW0uaHRtbCc7XG5pbXBvcnQgaHRtbF9iZWhlZXJfbW9kYWwgZnJvbSAnL3NyYy9odG1sL2FkbWluLWJlaGVlci1tb2RhbC5odG1sJztcblxuY2xhc3MgTWFpbiB7XG5cbiAgLyoqIEB0eXBlIHs/bnVtYmVyfSAqL1xuICBsaWpzdF9pZDtcbiAgLyoqIEB0eXBlIHtQcm9taXNlPHN0cmluZz59ICovXG4gIGxpanN0X25hYW1fcHJvbWlzZTtcbiAgLyoqIEB0eXBlIHtIVE1MQm9keUVsZW1lbnR9ICovXG4gIGVfYm9keTtcbiAgLyoqIEB0eXBlIHtIVE1MU2VsZWN0RWxlbWVudH0gKi9cbiAgZV9saWpzdF9zZWxlY3Q7XG4gIC8qKiBAdHlwZSB7SFRNTFRhYmxlU2VjdGlvbkVsZW1lbnR9ICovXG4gIGVfZ2VzZWxlY3RlZXJkX2xpanN0O1xuICAvKiogQHR5cGUge0hUTUxTcGFuRWxlbWVudH0gKi9cbiAgZV9hYW50YWxfZ2VzZWxlY3RlZXJkZV9udW1tZXJzO1xuICAvKiogQHR5cGUge251bWJlcltdfSAqL1xuICBnZXNlbGVjdGVlcmRlX251bW1lcnM7XG4gIHRhYmVsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZV9ib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKS5pdGVtKDApO1xuICAgIHRoaXMuZV9saWpzdF9zZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlqc3RzZWxlY3QnKTtcbiAgICB0aGlzLmVfZ2VzZWxlY3RlZXJkX2xpanN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dlc2VsZWN0ZWVyZC1saWpzdCcpO1xuICAgIHRoaXMuZV9hYW50YWxfZ2VzZWxlY3RlZXJkZV9udW1tZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FhbnRhbC1nZXNlbGVjdGVlcmRlLW51bW1lcnMnKTtcbiAgICB0aGlzLmxpanN0X25hYW1fcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgnPycpO1xuICAgIHRoaXMuZ2VzZWxlY3RlZXJkZV9udW1tZXJzID0gW107XG5cbiAgICB0aGlzLnZ1bF9tZXRhZGF0YSgpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgY29uc3QgbGlqc3RfaWQgPSBwYXJhbXMuZ2V0KCdsaWpzdCcpO1xuICAgICAgZm9yICggY29uc3QgZV9vcHRpb24gb2YgdGhpcy5lX2xpanN0X3NlbGVjdC5vcHRpb25zICkge1xuICAgICAgICBpZiAoIGVfb3B0aW9uLnZhbHVlID09IGxpanN0X2lkICkge1xuICAgICAgICAgIGVfb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnNldF9saWpzdChsaWpzdF9pZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMudGFiZWwgPSBuZXcgRGF0YVRhYmxlKFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jlc2NoaWtiYXJlLW51bW1lcnMnKSxcbiAgICAgIHtcbiAgICAgICAgcHJvY2Vzc2luZzogdHJ1ZSxcbiAgICAgICAgc2VydmVyU2lkZTogdHJ1ZSxcbiAgICAgICAgYWpheDogKGRhdGEsIGNhbGxiYWNrLCBzZXR0aW5ncykgPT4ge1xuICAgICAgICAgIGRhdGEuaXNfdnJpamVrZXV6ZSA9IGZhbHNlO1xuICAgICAgICAgIGZ1bmN0aWVzLnZ1bF9kYXRhdGFibGVzKGRhdGEsIGNhbGxiYWNrLCBzZXR0aW5ncyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbHVtbkRlZnM6IFt7XG4gICAgICAgICAgdGFyZ2V0czogMCxcbiAgICAgICAgICBzZWFyY2hhYmxlOiBmYWxzZSxcbiAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2R0LWJvZHktY2VudGVyJyxcbiAgICAgICAgICByZW5kZXI6IChudW1tZXJfaWQsIHR5cGUsIFtudW1tZXJfaWQyLCB0aXRlbCwgYXJ0aWVzdCwgamFhcl0sIG1ldGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdjaGVja2JveCcpO1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0Lm91dGVySFRNTDtcbiAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgICAgICBvcmRlcjogWzEsICdhc2MnXSxcbiAgICAgICAgcm93Q2FsbGJhY2s6IHRoaXMudG9vbl9nZXNlbGVjdGVlcmQuYmluZCh0aGlzKSxcbiAgICAgICAgbGFuZ3VhZ2U6IHtcbiAgICAgICAgICBsZW5ndGhNZW51OiAnX01FTlVfIG51bW1lcnMgcGVyIHBhZ2luYScsXG4gICAgICAgICAgemVyb1JlY29yZHM6ICdHZWVuIG51bW1lcnMgZ2V2b25kZW4nLFxuICAgICAgICAgIGluZm86ICdQYWdpbmEgX1BBR0VfIHZhbiBfUEFHRVNfJyxcbiAgICAgICAgICBpbmZvRW1wdHk6ICdHZWVuIG51bW1lcnMgZ2V2b25kZW4nLFxuICAgICAgICAgIGluZm9GaWx0ZXJlZDogJyhnZWZpbHRlcmQgdmFuIF9NQVhfIHRvdGFhbCknLFxuICAgICAgICAgIHNlYXJjaDogJ1pvZWtlbjonLFxuICAgICAgICAgIHBhZ2luYXRlOiB7XG4gICAgICAgICAgICBmaXJzdDogJ0VlcnN0ZScsXG4gICAgICAgICAgICBsYXN0OiAnTGFhdHN0ZScsXG4gICAgICAgICAgICBuZXh0OiAnVm9sZ2VuZGUnLFxuICAgICAgICAgICAgcHJldmlvdXM6ICdWb3JpZ2UnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja19oYW5kbGVyLmJpbmQodGhpcykpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpanN0c2VsZWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5saWpzdF9zZWxlY3RfaGFuZGxlci5iaW5kKHRoaXMpKTtcblxuICAgIC8vIEJlc3RhYW5kZSBsaWpzdCB3aWp6aWdlblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZWhlZXJrbm9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJlaGVlcl9rbm9wX2hhbmRsZXIuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBOaWV1d2UgbGlqc3QgbWFrZW5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmlldXdrbm9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm5pZXV3X2tub3BfaGFuZGxlci5iaW5kKHRoaXMpKTtcblxuICAgIC8vIFJlc3VsdGF0ZW4gZGlhbG9vZ3ZlbnN0ZXIgb3BlbmVuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdGF0ZW5rbm9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlc3VsdGF0ZW5fa25vcF9oYW5kbGVyLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBcbiAgICovXG4gIGNsaWNrX2hhbmRsZXIoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKCAhKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBHZWJydWlrZXIga2xpa3Qgb3AgZWVuIHJpaiB2YW4gZGUgYmVzY2hpa2JhcmUgbnVtbWVycy5cbiAgICBpZiAoIHRhcmdldC5jbG9zZXN0KCcjYmVzY2hpa2JhcmUtbnVtbWVycyB0Ym9keT50cicpICkge1xuICAgICAgdGhpcy5jaGVja2JveF9oYW5kbGVyKHRhcmdldC5jbG9zZXN0KCd0cicpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaWpzdF9pZCBcbiAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIHNldF9saWpzdChsaWpzdF9pZCkge1xuICAgIHRoaXMubGlqc3RfaWQgPSBsaWpzdF9pZDtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHVybC5zZWFyY2hQYXJhbXM7XG4gICAgcGFyYW1zLnNldCgnbGlqc3QnLCB0aGlzLmxpanN0X2lkKTtcbiAgICB1cmwucGFyYW1zID0gcGFyYW1zO1xuICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCB1cmwpO1xuXG4gICAgdGhpcy5lX2JvZHkuY2xhc3NMaXN0LmFkZCgnbGlqc3QtZ2VzZWxlY3RlZXJkJyk7XG4gICAgZm9yICggY29uc3QgYmV3ZXJra25vcCBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdiZXdlcmsta25vcCcpICkge1xuICAgICAgYmV3ZXJra25vcC5yZW1vdmVBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbGlqc3RfZGF0YV9wcm9taXNlID0gdGhpcy52dWxfbGlqc3RfbWV0YWRhdGEoKTtcbiAgICB0aGlzLmxpanN0X25hYW1fcHJvbWlzZSA9IGxpanN0X2RhdGFfcHJvbWlzZS50aGVuKChsaWpzdF9kYXRhKSA9PiB7XG4gICAgICByZXR1cm4gbGlqc3RfZGF0YS5uYWFtO1xuICAgIH0pO1xuICAgIGF3YWl0IGxpanN0X2RhdGFfcHJvbWlzZTtcblxuICAgIHRoaXMudGFiZWwuZHJhdygpO1xuICB9XG5cbiAgYXN5bmMgdnVsX21ldGFkYXRhKCkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXJ2ZXIucG9zdCgnZ2V0X21ldGFkYXRhJywge30pO1xuICAgIGZvciAoIGNvbnN0IGVfb3JnYW5pc2F0aWUgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnb3JnYW5pc2F0aWUnKSApIHtcbiAgICAgIGVfb3JnYW5pc2F0aWUuaW5uZXJUZXh0ID0gZGF0YS5vcmdhbmlzYXRpZTtcbiAgICB9XG4gICAgZm9yICggY29uc3QgbGlqc3Qgb2YgZGF0YS5saWpzdGVuICkge1xuICAgICAgdGhpcy5lX2xpanN0X3NlbGVjdC5hZGQobmV3IE9wdGlvbihsaWpzdC5uYWFtLCBsaWpzdC5pZCkpO1xuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWFsLWFhbnRhbC1udW1tZXJzJykuaW5uZXJUZXh0ID0gZGF0YS50b3RhYWxfYWFudGFsX251bW1lcnM7XG4gICAgZm9yICggY29uc3QgZV9uaW1idXNfdXJsIG9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25pbWJ1cy11cmwnKSApIHtcbiAgICAgIGVfbmltYnVzX3VybC5ocmVmID0gZGF0YS5uaW1idXNfdXJsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcbiAgICogQHJldHVybnMge1Byb21pc2U8dW5rbm93bj59XG4gICAqL1xuICBhc3luYyB2dWxfbGlqc3RfbWV0YWRhdGEoKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHNlcnZlci5wb3N0KCdnZXRfbGlqc3RfbWV0YWRhdGEnLCB7XG4gICAgICBsaWpzdDogdGhpcy5saWpzdF9pZFxuICAgIH0pO1xuICAgIGZvciAoIGNvbnN0IGVfbmFhbSBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsaWpzdC1uYWFtJykgKSB7XG4gICAgICBlX25hYW0uaW5uZXJUZXh0ID0gZGF0YS5uYWFtO1xuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGl0bGUnKS5pdGVtKDApLmlubmVyVGV4dCA9IGBNdXppZWtsaWpzdGVuIGJlaGVlciDigJMgJHtkYXRhLm5hYW19YDtcbiAgICBmb3IgKCBjb25zdCBlX2lmcmFtZV91cmwgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaWZyYW1lLXVybCcpICkge1xuICAgICAgZV9pZnJhbWVfdXJsLnZhbHVlID0gZGF0YS5pZnJhbWVfdXJsO1xuICAgIH1cbiAgICBmb3IgKCBjb25zdCBlX2lmcmFtZV9jb2RlIG9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2lmcmFtZS1jb2RlJykgKSB7XG4gICAgICBlX2lmcmFtZV9jb2RlLnZhbHVlID0gYDxpZnJhbWUgc3JjPVwiJHtkYXRhLmlmcmFtZV91cmx9XCIgZnJhbWVib3JkZXI9XCIwXCIgaGVpZ2h0PVwiMzAwMFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMzAwMHB4OyBib3JkZXI6IG5vbmU7XCI+YDtcbiAgICB9XG4gICAgdGhpcy5nZXNlbGVjdGVlcmRlX251bW1lcnMgPSBkYXRhLm51bW1lcl9pZHM7XG4gICAgLy8gVnVsdCBkZSB0YWJlbCBtZXQgZ2VzZWxlY3RlZXJkZSBudW1tZXJzLlxuICAgIHRoaXMudnVsX2xpanN0X2dlc2VsZWN0ZWVyZGVfbnVtbWVycygpO1xuICAgIGNvbnN0IGVfZm9ybV9jb250cm9scyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNiZXNjaGlrYmFyZS1udW1tZXJzX2xlbmd0aCBzZWxlY3QsICNiZXNjaGlrYmFyZS1udW1tZXJzX2ZpbHRlciBpbnB1dCcpO1xuICAgIGZvciAoIGNvbnN0IGVsZW0gb2YgZV9mb3JtX2NvbnRyb2xzICkge1xuICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdmb3JtLWNvbnRyb2wnKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7SFRNTFRhYmxlUm93RWxlbWVudH0gZV9yaWogXG4gICAqL1xuICBhc3luYyBjaGVja2JveF9oYW5kbGVyKGVfcmlqKSB7XG4gICAgY29uc3QgZV9jaGVja2JveCA9IGVfcmlqLm1hdGNoZXMoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpXG4gICAgICA/IGVfcmlqXG4gICAgICA6IGVfcmlqLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgIGxldCBbbnVtbWVyX2lkLCB0aXRlbCwgYXJ0aWVzdCwgamFhcl0gPSB0aGlzLnRhYmVsLnJvdyhlX3JpaikuZGF0YSgpO1xuICAgIG51bW1lcl9pZCA9IE51bWJlci5wYXJzZUludChudW1tZXJfaWQpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcm93IElEIGlzIGluIHRoZSBsaXN0IG9mIHNlbGVjdGVkIHJvdyBJRHMgXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmdlc2VsZWN0ZWVyZGVfbnVtbWVycy5pbmRleE9mKG51bW1lcl9pZCk7XG5cbiAgICBpZiAoIGluZGV4ID09PSAtMSApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMubnVtbWVyX3RvZXZvZWdlbihudW1tZXJfaWQpO1xuICAgICAgICB0aGlzLmdlc2VsZWN0ZWVyZGVfbnVtbWVycy5wdXNoKG51bW1lcl9pZCk7XG4gICAgICAgIGVfY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIGVfcmlqLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGF3YWl0IHRoaXMudnVsX2xpanN0X2dlc2VsZWN0ZWVyZGVfbnVtbWVycygpO1xuICAgICAgfSBjYXRjaCAobXNnKSB7XG4gICAgICAgIGVfY2hlY2tib3gucHJvcC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIGFsZXJ0KG1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMubnVtbWVyX3ZlcndpamRlcmVuKG51bW1lcl9pZCk7XG4gICAgICAgIHRoaXMuZ2VzZWxlY3RlZXJkZV9udW1tZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGVfY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICBlX3Jpai5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBhd2FpdCB0aGlzLnZ1bF9saWpzdF9nZXNlbGVjdGVlcmRlX251bW1lcnMoKTtcbiAgICAgIH0gY2F0Y2ggKG1zZykge1xuICAgICAgICBlX2NoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBhbGVydChtc2cpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZWJydWlrZXIga2llc3QgZWVuIGxpanN0IGluIGRlIGRyb3Bkb3duLlxuICAgKi9cbiAgbGlqc3Rfc2VsZWN0X2hhbmRsZXIoZSkge1xuICAgIGlmICggZS50YXJnZXQudmFsdWUgPiAwICkge1xuICAgICAgdGhpcy5zZXRfbGlqc3QoZS50YXJnZXQudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuc2V0X2xpanN0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGJpaiBoZXQgcmVuZGVyZW4gdmFuIGVsa2UgcmlqLlxuICAgKiBaZXQgaGV0IHZpbmtqZSBnZXNlbGVjdGVlcmQgYWFuIG9mIG5pZXQuXG4gICAqL1xuICB0b29uX2dlc2VsZWN0ZWVyZChyb3csIFtudW1tZXJfaWQsIHRpdGVsLCBhcnRpZXN0LCBqYWFyXSwgZGF0YUluZGV4KSB7XG4gICAgbnVtbWVyX2lkID0gTnVtYmVyLnBhcnNlSW50KG51bW1lcl9pZCk7XG4gICAgLy8gSWYgcm93IElEIGlzIGluIHRoZSBsaXN0IG9mIHNlbGVjdGVkIHJvdyBJRHNcbiAgICBpZiAoIHRoaXMuZ2VzZWxlY3RlZXJkZV9udW1tZXJzLmluY2x1ZGVzKG51bW1lcl9pZCkgKSB7XG4gICAgICByb3cucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykuY2hlY2tlZCA9IHRydWU7XG4gICAgICByb3cuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVm9lZ3QgZWVuIG51bW1lciB0b2UgYWFuIGRlIGxpanN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIG51bW1lcl90b2V2b2VnZW4obnVtbWVyX2lkKSB7XG4gICAgcmV0dXJuIHNlcnZlci5wb3N0KCdsaWpzdF9udW1tZXJfdG9ldm9lZ2VuJywge1xuICAgICAgbGlqc3Q6IHRoaXMubGlqc3RfaWQsXG4gICAgICBudW1tZXI6IG51bW1lcl9pZFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcndpamRlcnQgZWVuIG51bW1lciB1aXQgZGUgbGlqc3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgbnVtbWVyX3ZlcndpamRlcmVuKG51bW1lcl9pZCkge1xuICAgIHJldHVybiBzZXJ2ZXIucG9zdCgnbGlqc3RfbnVtbWVyX3ZlcndpamRlcmVuJywge1xuICAgICAgbGlqc3Q6IHRoaXMubGlqc3RfaWQsXG4gICAgICBudW1tZXI6IG51bW1lcl9pZFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZ1bHQgZGUgcmVjaHRlcmtvbG9tIG1ldCBhbGxlIGdlc2VsZWN0ZWVyZGUgbnVtbWVycy5cbiAgICogRGUgaGVsZSBpbmhvdWQgdmFuIGhldCBlbGVtZW50IHdvcmR0IHZlcnZhbmdlbi5cbiAgICovXG4gIGFzeW5jIHZ1bF9saWpzdF9nZXNlbGVjdGVlcmRlX251bW1lcnMoKSB7XG4gICAgY29uc3QgbnVtbWVycyA9IGF3YWl0IHNlcnZlci5wb3N0KCdnZXRfZ2VzZWxlY3RlZXJkZV9udW1tZXJzJywge1xuICAgICAgbGlqc3Q6IHRoaXMubGlqc3RfaWRcbiAgICB9KTtcbiAgICB3aGlsZSAoIHRoaXMuZV9nZXNlbGVjdGVlcmRfbGlqc3QubGFzdENoaWxkICkge1xuICAgICAgdGhpcy5lX2dlc2VsZWN0ZWVyZF9saWpzdC5yZW1vdmVDaGlsZCh0aGlzLmVfZ2VzZWxlY3RlZXJkX2xpanN0Lmxhc3RDaGlsZCk7XG4gICAgfVxuICAgIHRoaXMuZV9hYW50YWxfZ2VzZWxlY3RlZXJkZV9udW1tZXJzLmlubmVyVGV4dCA9IG51bW1lcnMubGVuZ3RoO1xuICAgIGZvciAoY29uc3QgbnVtbWVyIG9mIG51bW1lcnMpIHtcbiAgICAgIGNvbnN0IGVfdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgdGhpcy5lX2dlc2VsZWN0ZWVyZF9saWpzdC5hcHBlbmRDaGlsZChlX3RyKTtcbiAgICAgIGNvbnN0IGVfdGl0ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgZV90ci5hcHBlbmRDaGlsZChlX3RpdGVsKTtcbiAgICAgIGVfdGl0ZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobnVtbWVyLnRpdGVsKSk7XG4gICAgICBjb25zdCBlX2FydGllc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgZV90ci5hcHBlbmRDaGlsZChlX2FydGllc3QpO1xuICAgICAgZV9hcnRpZXN0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG51bW1lci5hcnRpZXN0KSk7XG4gICAgICBjb25zdCBlX2phYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgZV90ci5hcHBlbmRDaGlsZChlX2phYXIpO1xuICAgICAgZV9qYWFyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG51bW1lci5qYWFyID8/ICcnKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIFxuICAgKi9cbiAgYXN5bmMgcmVzdWx0YXRlbl9rbm9wX2hhbmRsZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBuZXcgUmVzdWx0YXRlbk1vZGFsKHRoaXMubGlqc3RfaWQsIGF3YWl0IHRoaXMubGlqc3RfbmFhbV9wcm9taXNlKTtcbiAgfVxuXG4gIG5pZXV3X2tub3BfaGFuZGxlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG1vZGFsID0gbmV3IEJlaGVlck1vZGFsKCk7XG4gICAgbW9kYWwub25fbGlqc3RfZ2VtYWFrdC5vbih0aGlzLmxpanN0X3RvZWdldm9lZ2QuYmluZCh0aGlzKSk7XG4gIH1cblxuICBiZWhlZXJfa25vcF9oYW5kbGVyKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbW9kYWwgPSBuZXcgQmVoZWVyTW9kYWwodGhpcy5saWpzdF9pZCk7XG4gICAgbW9kYWwub25fbGlqc3RfdmVyYW5kZXJkLm9uKHRoaXMubGlqc3RfdmVyYW5kZXJkLmJpbmQodGhpcykpO1xuICAgIG1vZGFsLm9uX2xpanN0X3ZlcndpamRlcmQub24odGhpcy5saWpzdF92ZXJ3aWpkZXJkLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge3tpZDogbnVtYmVyLCBuYWFtOiBzdHJpbmd9fSBkYXRhIFxuICAgKi9cbiAgbGlqc3RfdG9lZ2V2b2VnZChkYXRhKSB7XG4gICAgdGhpcy5lX2xpanN0X3NlbGVjdC5hZGQobmV3IE9wdGlvbihkYXRhLm5hYW0sIGRhdGEuaWQsIGZhbHNlLCB0cnVlKSk7XG4gICAgdGhpcy5zZXRfbGlqc3QoZGF0YS5pZCk7XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7e2lkOiBudW1iZXIsIG5hYW06IHN0cmluZ319IGRhdGEgXG4gICAqL1xuICBsaWpzdF92ZXJhbmRlcmQoZGF0YSkge1xuICAgIGNvbnN0IGVfb3B0aW9uID0gdGhpcy5lX2xpanN0X3NlbGVjdC5pdGVtKHRoaXMuZV9saWpzdF9zZWxlY3Quc2VsZWN0ZWRJbmRleCk7XG4gICAgZV9vcHRpb24udGV4dCA9IGRhdGEubmFhbTtcbiAgfVxuXG4gIGxpanN0X3ZlcndpamRlcmQoKSB7XG4gICAgdGhpcy5lX2xpanN0X3NlbGVjdC5yZW1vdmUodGhpcy5lX2xpanN0X3NlbGVjdC5zZWxlY3RlZEluZGV4KTtcbiAgICB0aGlzLnVuc2V0X2xpanN0KCk7XG4gIH1cblxuICB1bnNldF9saWpzdChldmVudCkge1xuICAgIHRoaXMubGlqc3RfaWQgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHVybC5zZWFyY2hQYXJhbXM7XG4gICAgcGFyYW1zLmRlbGV0ZSgnbGlqc3QnKTtcbiAgICB1cmwucGFyYW1zID0gcGFyYW1zO1xuICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCB1cmwpO1xuXG4gICAgdGhpcy5lX2JvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbGlqc3QtZ2VzZWxlY3RlZXJkJyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGl0bGUnKS5pdGVtKDApLmlubmVyVGV4dCA9ICdNdXppZWtsaWpzdGVuIGJlaGVlcic7XG4gICAgdGhpcy5nZXNlbGVjdGVlcmRlX251bW1lcnMgPSBbXTtcbiAgICAvLyBWdWx0IGRlIHRhYmVsIG1ldCBnZXNlbGVjdGVlcmRlIG51bW1lcnMuXG4gICAgdGhpcy52dWxfbGlqc3RfZ2VzZWxlY3RlZXJkZV9udW1tZXJzKCk7XG4gIH1cbn1cblxuY2xhc3MgUmVzdWx0YXRlbk1vZGFsIHtcblxuICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgbGlqc3RfaWQ7XG4gIC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovXG4gIGVfbW9kYWw7XG4gIC8qKiBAdHlwZSB7alF1ZXJ5fSAqL1xuICAkbW9kYWw7XG4gIC8qKiBAdHlwZSB7SFRNTFNwYW5FbGVtZW50fSAqL1xuICBlX3RvdGFhbF9hYW50YWxfc3RlbW1lbjtcbiAgLyoqIEB0eXBlIHtIVE1MU3BhbkVsZW1lbnR9ICovXG4gIGVfdG90YWFsX2FhbnRhbF9zdGVtbWVycztcbiAgLyoqIEB0eXBlIHtIVE1MRm9ybUVsZW1lbnR9ICovXG4gIGVfZmlsdGVyc19mb3JtO1xuICAvKiogQHR5cGUge0hUTUxUYWJsZVNlY3Rpb25FbGVtZW50fSAqL1xuICBlX3Jlc3VsdGF0ZW5fdGFiZWw7XG4gIC8qKiBAdHlwZSB7e1trZXk6IG51bWJlcl06IFJlc3VsdGF0ZW5OdW1tZXJ9fSAqL1xuICByZXN1bHRhdGVuX251bW1lcnM7XG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICB0b3RhYWxfYWFudGFsX3N0ZW1tZW47XG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge251bWJlcn0gbGlqc3RfaWQgXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaWpzdF9uYWFtIFxuICAgKi9cbiAgY29uc3RydWN0b3IobGlqc3RfaWQsIGxpanN0X25hYW0pIHtcbiAgICB0aGlzLmxpanN0X2lkID0gbGlqc3RfaWQ7XG4gICAgdGhpcy5yZXN1bHRhdGVuX251bW1lcnMgPSB7fTtcbiAgICB0aGlzLnRvdGFhbF9hYW50YWxfc3RlbW1lbiA9IDA7XG5cbiAgICB0aGlzLmVfbW9kYWwgPSBtb2RhbF90ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5lX3RvdGFhbF9hYW50YWxfc3RlbW1lbiA9IHRoaXMuZV9tb2RhbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0b3RhYWwtYWFudGFsLXN0ZW1tZW4nKS5pdGVtKDApO1xuICAgIHRoaXMuZV90b3RhYWxfYWFudGFsX3N0ZW1tZXJzID0gdGhpcy5lX21vZGFsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RvdGFhbC1hYW50YWwtc3RlbW1lcnMnKS5pdGVtKDApO1xuICAgIHRoaXMuZV9maWx0ZXJzX2Zvcm0gPSB0aGlzLmVfbW9kYWwucXVlcnlTZWxlY3RvcignZm9ybS5maWx0ZXJzJyk7XG4gICAgdGhpcy5lX2ZpbHRlcnNfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLmZpbHRlci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVfZmlsdGVyc19mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgdGhpcy5maWx0ZXJfcmVzZXQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lX3Jlc3VsdGF0ZW5fdGFiZWwgPSB0aGlzLmVfbW9kYWwucXVlcnlTZWxlY3RvcignLnJlc3VsdGF0ZW4tdGFiZWwnKTtcbiAgICB0aGlzLmVfcmVzdWx0YXRlbl90YWJlbC5pZCA9IGZ1bmN0aWVzLmdldF9yYW5kb21fc3RyaW5nKDEyKTtcblxuICAgIHRoaXMuc2V0X3RvdGFhbF9hYW50YWxfc3RlbW1lcnMoKTtcbiAgICB0aGlzLm1hYWtfcmVzdWx0YXRlbl90YWJlbCgpO1xuXG4gICAgZm9yICggY29uc3QgZV9saWpzdF9uYWFtIG9mIHRoaXMuZV9tb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcubGlqc3QtbmFhbScpICkge1xuICAgICAgZV9saWpzdF9uYWFtLnRleHRDb250ZW50ID0gbGlqc3RfbmFhbTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpLml0ZW0oMCkuYXBwZW5kQ2hpbGQodGhpcy5lX21vZGFsKTtcbiAgICAvLy8vIFZvb3IgYm9vdHN0cmFwIDVcbiAgICAvLyB0aGlzLm1vZGFsID0gbmV3IE1vZGFsKHRoaXMuZV9tb2RhbCwge1xuICAgIC8vICAgYmFja2Ryb3A6IHRydWUsXG4gICAgLy8gICBmb2N1czogdHJ1ZSxcbiAgICAvLyAgIGtleWJvYXJkOiB0cnVlXG4gICAgLy8gfSk7XG4gICAgLy8gdGhpcy5lX21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2hpZGRlbi5icy5tb2RhbCcsIGUgPT4ge1xuICAgIC8vICAgdGhpcy5lX21vZGFsLnJlbW92ZSgpO1xuICAgIC8vIH0pO1xuICAgIHRoaXMuJG1vZGFsID0gJCh0aGlzLmVfbW9kYWwpO1xuICAgIHRoaXMuJG1vZGFsLm1vZGFsKHtcbiAgICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgdGhpcy4kbW9kYWwub24oJ2hpZGRlbi5icy5tb2RhbCcsIGUgPT4ge1xuICAgICAgdGhpcy5lX21vZGFsLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lX21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja19oYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZV9tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoYW5nZV9oYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIFxuICAgIHRoaXMuJG1vZGFsLm1vZGFsKCdzaG93Jyk7XG4gIH1cblxuICBhc3luYyBtYWFrX3Jlc3VsdGF0ZW5fdGFiZWwoKSB7XG4gICAgY29uc3QgbGFiZWxzX3Byb21pc2UgPSBzZXJ2ZXIucG9zdCgnZ2V0X3Jlc3VsdGF0ZW5fbGFiZWxzJywge1xuICAgICAgbGlqc3Q6IHRoaXMubGlqc3RfaWRcbiAgICB9KTtcbiAgICBjb25zdCBudW1tZXJzX3N0ZW1tZW4gPSBhd2FpdCBzZXJ2ZXIucG9zdCgnZ2V0X3Jlc3VsdGF0ZW4nLCB7XG4gICAgICBsaWpzdDogdGhpcy5saWpzdF9pZFxuICAgIH0pO1xuICAgIHRoaXMudG90YWFsX2FhbnRhbF9zdGVtbWVuID0gMDtcbiAgICBmb3IgKCBjb25zdCBudW1tZXJfc3RlbW1lbiBvZiBudW1tZXJzX3N0ZW1tZW4gKSB7XG4gICAgICBjb25zdCByZXN1bHRhdGVuX251bW1lciA9IG5ldyBSZXN1bHRhdGVuTnVtbWVyKFxuICAgICAgICB0aGlzLFxuICAgICAgICB0aGlzLmVfcmVzdWx0YXRlbl90YWJlbCxcbiAgICAgICAgbGFiZWxzX3Byb21pc2UsXG4gICAgICAgIG51bW1lcl9zdGVtbWVuLnN0ZW1tZW4sXG4gICAgICAgIG51bW1lcl9zdGVtbWVuLm51bW1lclxuICAgICAgKTtcbiAgICAgIHJlc3VsdGF0ZW5fbnVtbWVyLm9uX3N0ZW1fdmVyd2lqZGVyZC5vbih0aGlzLnN0ZW1fdmVyd2lqZGVyZF9oYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgcmVzdWx0YXRlbl9udW1tZXIub25fdmVyd2lqZGVyZC5vbih0aGlzLm51bW1lcl92ZXJ3aWpkZXJkX2hhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLnJlc3VsdGF0ZW5fbnVtbWVyc1tudW1tZXJfc3RlbW1lbi5udW1tZXIuaWRdID0gcmVzdWx0YXRlbl9udW1tZXI7XG4gICAgICB0aGlzLmFkZF90b3RhYWxfYWFudGFsX3N0ZW1tZW4obnVtbWVyX3N0ZW1tZW4uc3RlbW1lbi5sZW5ndGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFhbnRhbCBcbiAgICovXG4gIGFkZF90b3RhYWxfYWFudGFsX3N0ZW1tZW4oYWFudGFsKSB7XG4gICAgdGhpcy50b3RhYWxfYWFudGFsX3N0ZW1tZW4gKz0gYWFudGFsO1xuICAgIHRoaXMuZV90b3RhYWxfYWFudGFsX3N0ZW1tZW4uaW5uZXJUZXh0ID0gdGhpcy50b3RhYWxfYWFudGFsX3N0ZW1tZW47XG4gIH1cblxuICBhc3luYyBzZXRfdG90YWFsX2FhbnRhbF9zdGVtbWVycygpIHtcbiAgICAvLyBjb25zdCB2YW4gPSB0aGlzLmdldF92YW4oKTtcbiAgICAvLyBjb25zdCB0b3QgPSB0aGlzLmdldF90b3QoKTtcbiAgICBjb25zdCByZXF1ZXN0ID0ge2xpanN0OiB0aGlzLmxpanN0X2lkfTtcbiAgICAvLyBpZiAoIHZhbiAhPSBudWxsICkge1xuICAgIC8vICAgcmVxdWVzdC52YW4gPSB2YW4udG9JU09TdHJpbmcoKTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKCB0b3QgIT0gbnVsbCApIHtcbiAgICAvLyAgIHJlcXVlc3QudG90ID0gdG90LnRvSVNPU3RyaW5nKCk7XG4gICAgLy8gfVxuICAgIHRoaXMuZV90b3RhYWxfYWFudGFsX3N0ZW1tZXJzLmlubmVyVGV4dCA9IGF3YWl0IHNlcnZlci5wb3N0KFxuICAgICAgJ2dldF90b3RhYWxfYWFudGFsX3N0ZW1tZXJzJyxcbiAgICAgIHJlcXVlc3RcbiAgICApO1xuICB9XG5cbiAgc3RlbV92ZXJ3aWpkZXJkX2hhbmRsZXIoKSB7XG4gICAgdGhpcy5hZGRfdG90YWFsX2FhbnRhbF9zdGVtbWVuKC0xKTtcbiAgICB0aGlzLnNldF90b3RhYWxfYWFudGFsX3N0ZW1tZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhYW50YWxfc3RlbW1lbiBcbiAgICovXG4gIG51bW1lcl92ZXJ3aWpkZXJkX2hhbmRsZXIoYWFudGFsX3N0ZW1tZW4pIHtcbiAgICB0aGlzLmFkZF90b3RhYWxfYWFudGFsX3N0ZW1tZW4oLWFhbnRhbF9zdGVtbWVuKTtcbiAgICB0aGlzLnNldF90b3RhYWxfYWFudGFsX3N0ZW1tZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFxuICAgKi9cbiAgYXN5bmMgZmlsdGVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgbnVtbWVyc190ZWtzdCA9IHRoaXMuZV9maWx0ZXJzX2Zvcm0uZWxlbWVudHNbJ2ZpbHRlci1udW1tZXJzJ10udmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICBsZXQgc3RlbW1lcnNfdGVrc3QgPSB0aGlzLmVfZmlsdGVyc19mb3JtLmVsZW1lbnRzWydmaWx0ZXItc3RlbW1lcnMnXS52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICggbnVtbWVyc190ZWtzdC5sZW5ndGggPCAzICkge1xuICAgICAgbnVtbWVyc190ZWtzdCA9ICcnO1xuICAgICAgdGhpcy5lX2ZpbHRlcnNfZm9ybS5lbGVtZW50c1snZmlsdGVyLW51bW1lcnMnXS52YWx1ZSA9ICcnO1xuICAgIH1cbiAgICBpZiAoIHN0ZW1tZXJzX3Rla3N0Lmxlbmd0aCA8IDMgKSB7XG4gICAgICBzdGVtbWVyc190ZWtzdCA9ICcnO1xuICAgICAgdGhpcy5lX2ZpbHRlcnNfZm9ybS5lbGVtZW50c1snZmlsdGVyLXN0ZW1tZXJzJ10udmFsdWUgPSAnJztcbiAgICB9XG4gICAgZm9yICggY29uc3QgW251bW1lcl9pZCwgcmVzdWx0YXRlbl9udW1tZXJdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMucmVzdWx0YXRlbl9udW1tZXJzKSApIHtcbiAgICAgIHJlc3VsdGF0ZW5fbnVtbWVyLmZpbHRlcihcbiAgICAgICAgbnVtbWVyc190ZWtzdCxcbiAgICAgICAgc3RlbW1lcnNfdGVrc3QsXG4gICAgICAgIHRoaXMuZ2V0X3ZhbigpLFxuICAgICAgICB0aGlzLmdldF90b3QoKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gYXdhaXQgdGhpcy5zZXRfdG90YWFsX2FhbnRhbF9zdGVtbWVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBcbiAgICovXG4gIGZpbHRlcl9yZXNldChldmVudCkge1xuICAgIGZvciAoIGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5lX2ZpbHRlcnNfZm9ybS5lbGVtZW50cyApIHtcbiAgICAgIGlmICggZWxlbWVudC50eXBlID09PSAndGV4dCcgfHwgZWxlbWVudC50eXBlID09PSAnZGF0ZScgKSB7XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5maWx0ZXIoZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgdm9vciBhbGxlIGtsaWtzIGluIGhldCBtb2RhbC5cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgXG4gICAqL1xuICBjbGlja19oYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmICggISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICggdGFyZ2V0LmNsb3Nlc3QoJy5zdGVtLXZlcndpamRlcmVuJykgKSB7XG4gICAgICB0aGlzLnN0ZW1fdmVyd2lqZGVyZW5faGFuZGxlcih0YXJnZXQuY2xvc2VzdCgnLnN0ZW0tdmVyd2lqZGVyZW4nKSk7XG4gICAgfVxuICAgIC8vIEluLSBlbiB1aXRrbGFwcGVuIHZhbiBzdGVtbWVuIG9wIGVlbiBudW1tZXIuXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcubnVtbWVyJykpIHtcbiAgICAgIHRoaXMudG9nZ2xlX251bW1lcl9zdGVtbWVuX2hhbmRsZXIodGFyZ2V0LmNsb3Nlc3QoJy5udW1tZXInKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgdm9vciBhbGxlIGNoYW5nZSBldmVudHMgaW4gaGV0IG1vZGFsLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBcbiAgICovXG4gIGNoYW5nZV9oYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmICggISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICggdGFyZ2V0LmNsb3Nlc3QoJy5iZWhhbmRlbGQtY2hlY2snKSApIHtcbiAgICAgIHRoaXMuY2hlY2tfYmVoYW5kZWxkX2hhbmRsZXIodGFyZ2V0LmNsb3Nlc3QoJy5iZWhhbmRlbGQtY2hlY2snKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluLSBlbiB1aXRrbGFwcGVuIHZhbiBkZSBzdGVtbWVuIG9wIGVlbiBudW1tZXIuXG4gICAqIFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIFxuICAgKi9cbiAgdG9nZ2xlX251bW1lcl9zdGVtbWVuX2hhbmRsZXIoZWxlbSkge1xuICAgIGNvbnN0IG51bW1lcl9pZCA9IE51bWJlci5wYXJzZUludChlbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1tZXItaWQnKSk7XG4gICAgY29uc3QgcmVzdWx0YXRlbl9udW1tZXIgPSB0aGlzLnJlc3VsdGF0ZW5fbnVtbWVyc1tudW1tZXJfaWRdO1xuICAgIHJlc3VsdGF0ZW5fbnVtbWVyLnRvZ2dsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgdm9vciBlZW4ga2xpayBvcCBoZXQga3J1aXNqZSBvbSBlZW4gc3RlbSB0ZSB2ZXJ3aWpkZXJlbi5cbiAgICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBlbGVtIC0gS25vcCB3YWFyb3AgZ2VrbGlrdCBpcy5cbiAgICovXG4gIGFzeW5jIHN0ZW1fdmVyd2lqZGVyZW5faGFuZGxlcihlbGVtKSB7XG4gICAgY29uc3Qgc3RlbW1lcl9pZCA9IE51bWJlci5wYXJzZUludChlbGVtLmNsb3Nlc3QoJ1tkYXRhLXN0ZW1tZXItaWRdJykuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZW1tZXItaWQnKSk7XG4gICAgY29uc3QgbnVtbWVyX2lkID0gTnVtYmVyLnBhcnNlSW50KGVsZW0uY2xvc2VzdCgnW2RhdGEtbnVtbWVyLWlkXScpLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1tZXItaWQnKSk7XG4gICAgLyoqIEB0eXBlIHtSZXN1bHRhdGVuTnVtbWVyfSAqL1xuICAgIGNvbnN0IHJlc3VsdGF0ZW5fbnVtbWVyID0gdGhpcy5yZXN1bHRhdGVuX251bW1lcnNbbnVtbWVyX2lkXTtcbiAgICBjb25zdCByZXN1bHRhdGVuX3N0ZW0gPSByZXN1bHRhdGVuX251bW1lci5nZXRfc3RlbShzdGVtbWVyX2lkKTtcbiAgICBhd2FpdCByZXN1bHRhdGVuX3N0ZW0udmVyd2lqZGVyZW4oKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIENoYW5nZSBldmVudCBvcCBlZW4gdmlua2hva2plIGlzX2JlaGFuZGVsZC5cbiAgICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBlbGVtIC0gVmlua2hva2plIGRhdCB2ZXJhbmRlcmQgaXMuXG4gICAqL1xuICBhc3luYyBjaGVja19iZWhhbmRlbGRfaGFuZGxlcihlbGVtKSB7XG4gICAgY29uc3Qgc3RlbW1lcl9pZCA9IE51bWJlci5wYXJzZUludChlbGVtLmNsb3Nlc3QoJ1tkYXRhLXN0ZW1tZXItaWRdJykuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZW1tZXItaWQnKSk7XG4gICAgY29uc3QgbnVtbWVyX2lkID0gTnVtYmVyLnBhcnNlSW50KGVsZW0uY2xvc2VzdCgnW2RhdGEtbnVtbWVyLWlkXScpLmdldEF0dHJpYnV0ZSgnZGF0YS1udW1tZXItaWQnKSk7XG4gICAgLyoqIEB0eXBlIHtSZXN1bHRhdGVuTnVtbWVyfSAqL1xuICAgIGNvbnN0IHJlc3VsdGF0ZW5fbnVtbWVyID0gdGhpcy5yZXN1bHRhdGVuX251bW1lcnNbbnVtbWVyX2lkXTtcbiAgICBjb25zdCByZXN1bHRhdGVuX3N0ZW0gPSByZXN1bHRhdGVuX251bW1lci5nZXRfc3RlbShzdGVtbWVyX2lkKTtcbiAgICBhd2FpdCByZXN1bHRhdGVuX3N0ZW0uYmVoYW5kZWxkX2hhbmRsZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7RGF0ZXxudWxsfVxuICAgKi9cbiAgZ2V0X3ZhbigpIHtcbiAgICBjb25zdCB2YW4gPSBuZXcgRGF0ZSh0aGlzLmVfZmlsdGVyc19mb3JtLmVsZW1lbnRzLnZhbi52YWx1ZSk7XG4gICAgaWYgKCBpc05hTih2YW4pICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbi5zZXRIb3VycygwKTtcbiAgICAgIHZhbi5zZXRNaW51dGVzKDApO1xuICAgICAgdmFuLnNldFNlY29uZHMoMCk7XG4gICAgICB2YW4uc2V0TWlsbGlzZWNvbmRzKDApO1xuICAgICAgcmV0dXJuIHZhbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0RhdGV8bnVsbH1cbiAgICovXG4gIGdldF90b3QoKSB7XG4gICAgY29uc3QgdG90ID0gbmV3IERhdGUodGhpcy5lX2ZpbHRlcnNfZm9ybS5lbGVtZW50cy50b3QudmFsdWUpO1xuICAgIGlmICggaXNOYU4odG90KSApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3Quc2V0RGF0ZSh0b3QuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICB0b3Quc2V0SG91cnMoMCk7XG4gICAgICB0b3Quc2V0TWludXRlcygwKTtcbiAgICAgIHRvdC5zZXRTZWNvbmRzKDApO1xuICAgICAgdG90LnNldE1pbGxpc2Vjb25kcygwKTtcbiAgICAgIHJldHVybiB0b3Q7XG4gICAgfVxufVxuICBcbn1cblxuLyoqXG4gKiBFZW4gbnVtbWVyIGluIGRlIGxpanN0IG1ldCByZXN1bHRhdGVuIG1ldCB1aXRrbGFwYmFyZSBsaWpzdCBtZXQgc3RlbW1lbiBvcCBkYXQgbnVtbWVyLlxuICovXG5jbGFzcyBSZXN1bHRhdGVuTnVtbWVyIHtcblxuICAvKiogQHR5cGUge1Jlc3VsdGF0ZW5Nb2RhbH0gKi9cbiAgcmVzdWx0YXRlbl9tb2RhbDtcbiAgLyoqIEB0eXBlIHtIVE1MVGFibGVTZWN0aW9uRWxlbWVudH0gKi9cbiAgZV9jb250YWluZXI7XG4gIC8qKiBAdHlwZSB7e1trZXk6IG51bWJlcl06IFJlc3VsdGF0ZW5TdGVtfX0gKi9cbiAgcmVzdWx0YXRlbl9zdGVtbWVuO1xuICAvKiogQHR5cGUge0hUTUxUYWJsZVJvd0VsZW1lbnR9ICovXG4gIGVfdHJfdWl0a2xhcDtcbiAgLyoqIEB0eXBlIHtIVE1MVGFibGVSb3dFbGVtZW50fSAqL1xuICBlX3RyX2dlZ2V2ZW5zO1xuICAvKiogQHR5cGUgez9IVE1MVGFibGVDZWxsRWxlbWVudH0gKi9cbiAgZV9hYW50YWxfc3RlbW1lbjtcbiAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gIG51bW1lcl9pZDtcbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIHRpdGVsO1xuICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgYXJ0aWVzdDtcbiAgLyoqIEB0eXBlIHtUeXBlZEV2ZW50PHZvaWQ+fSAqL1xuICBvbl9zdGVtX3ZlcndpamRlcmQ7XG4gIC8qKiBAdHlwZSB7VHlwZWRFdmVudDxudW1iZXI+fSAqL1xuICBvbl92ZXJ3aWpkZXJkO1xuICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gIGlzX3ppY2h0YmFhcjtcbiAgLyoqIEB0eXBlIHtQcm9taXNlPHN0cmluZ1tdPn0gKi9cbiAgbGFiZWxzX3Byb21pc2U7XG4gIHN0ZW1tZW47XG4gIC8qKiBAdHlwZSB7e2lwOiBzdHJpbmcsIGlzX2JlaGFuZGVsZDogYm9vbGVhbiwgc3RlbW1lcl9pZDogbnVtYmVyLCB0aW1lc3RhbXA6IHN0cmluZywgdG9lbGljaHRpbmc6IHN0cmluZywgdmVsZGVuOiB7dHlwZTogc3RyaW5nLCB3YWFyZGU6IHN0cmluZ31bXX19ICovXG4gIHN0ZW1tZW5fZ2VmaWx0ZXJkO1xuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHtSZXN1bHRhdGVuTW9kYWx9IHJlc3VsdGF0ZW5fbW9kYWwgXG4gICAqIEBwYXJhbSB7SFRNTFRhYmxlU2VjdGlvbkVsZW1lbnR9IGVfY29udGFpbmVyIFxuICAgKiBAcGFyYW0ge1Byb21pc2U8c3RyaW5nW10+fSBsYWJlbHNfcHJvbWlzZVxuICAgKiBAcGFyYW0ge3tpcDogc3RyaW5nLCBpc19iZWhhbmRlbGQ6IGJvb2xlYW4sIHN0ZW1tZXJfaWQ6IG51bWJlciwgdGltZXN0YW1wOiBzdHJpbmcsIHRvZWxpY2h0aW5nOiBzdHJpbmcsIHZlbGRlbjoge3R5cGU6IHN0cmluZywgd2FhcmRlOiBzdHJpbmd9W119W119IHN0ZW1tZW5cbiAgICogQHBhcmFtIHt7YXJ0aWVzdDogc3RyaW5nLCBpZDogbnVtYmVyLCBpc192cmlqZWtldXplOiBib29sZWFuLCB0aXRlbDogc3RyaW5nfX0gbnVtbWVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZXN1bHRhdGVuX21vZGFsLFxuICAgIGVfY29udGFpbmVyLFxuICAgIGxhYmVsc19wcm9taXNlLFxuICAgIHN0ZW1tZW4sXG4gICAgbnVtbWVyXG4gICkge1xuICAgIHRoaXMucmVzdWx0YXRlbl9zdGVtbWVuID0ge307XG4gICAgdGhpcy5vbl9zdGVtX3ZlcndpamRlcmQgPSBuZXcgVHlwZWRFdmVudCgpO1xuICAgIHRoaXMub25fdmVyd2lqZGVyZCA9IG5ldyBUeXBlZEV2ZW50KCk7XG4gICAgdGhpcy5yZXN1bHRhdGVuX21vZGFsID0gcmVzdWx0YXRlbl9tb2RhbDtcbiAgICB0aGlzLmVfY29udGFpbmVyID0gZV9jb250YWluZXI7XG4gICAgdGhpcy5pc196aWNodGJhYXIgPSB0cnVlO1xuICAgIHRoaXMubGFiZWxzX3Byb21pc2UgPSBsYWJlbHNfcHJvbWlzZTtcbiAgICB0aGlzLnN0ZW1tZW4gPSB0aGlzLnN0ZW1tZW5fZ2VmaWx0ZXJkID0gc3RlbW1lbjtcbiAgICB0aGlzLnN0ZW1tZW5fZmlsdGVyID0gbnVsbDtcblxuICAgIHRoaXMuZV90cl91aXRrbGFwID0gcmVzdWx0YXRlbl9udW1tZXJfdGVtcGxhdGUuaXRlbSgwKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5lX2FhbnRhbF9zdGVtbWVuID0gdGhpcy5lX3RyX3VpdGtsYXAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWFudGFsLXN0ZW1tZW4nKS5pdGVtKDApO1xuXG4gICAgLy8gdGhpcy5lX3RyX3VpdGtsYXAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmVyd2lqZGVyLW51bW1lcicpLml0ZW0oMCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnZlcndpamRlcmVuLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5lX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVfdHJfdWl0a2xhcCk7XG4gICAgdGhpcy5zZXRfbnVtbWVyKG51bW1lcik7XG4gICAgaWYgKCB0aGlzLnN0ZW1tZW4ubGVuZ3RoID4gMCApIHtcbiAgICAgIHRoaXMuZV90cl91aXRrbGFwLmNsYXNzTGlzdC5hZGQoJ2hlZWZ0LXN0ZW1tZW4nKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVfYWFudGFsX3N0ZW1tZW4oKTtcbiAgICB0aGlzLnVwZGF0ZV9iZWhhbmRlbGQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGFhdHMgbWV0YWRhdGEgdmFuIGhldCBudW1tZXIuXG4gICAqIEBwYXJhbSB7e2FydGllc3Q6IHN0cmluZywgaWQ6IG51bWJlciwgaXNfdnJpamVrZXV6ZTogYm9vbGVhbiwgdGl0ZWw6IHN0cmluZ319IHBhcmFtMCBcbiAgICovXG4gIHNldF9udW1tZXIoe2lkLCB0aXRlbCwgYXJ0aWVzdCwgaXNfdnJpamVrZXV6ZX0pIHtcbiAgICB0aGlzLm51bW1lcl9pZCA9IGlkO1xuICAgIHRoaXMudGl0ZWwgPSB0aXRlbDtcbiAgICB0aGlzLmFydGllc3QgPSBhcnRpZXN0O1xuXG4gICAgdGhpcy5lX3RyX3VpdGtsYXAuaWQgPSBgbnVtbWVyLSR7dGhpcy5udW1tZXJfaWR9YDtcbiAgICB0aGlzLmVfdHJfdWl0a2xhcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbnVtbWVyLWlkJywgdGhpcy5udW1tZXJfaWQpO1xuXG4gICAgZm9yICggY29uc3QgZV9udW1tZXJfdGl0ZWwgb2YgdGhpcy5lX3RyX3VpdGtsYXAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbnVtbWVyLXRpdGVsJykgKSB7XG4gICAgICBlX251bW1lcl90aXRlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnRpdGVsKSk7XG4gICAgfVxuICAgIGZvciAoIGNvbnN0IGVfbnVtbWVyX2FydGllc3Qgb2YgdGhpcy5lX3RyX3VpdGtsYXAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbnVtbWVyLWFydGllc3QnKSApIHtcbiAgICAgIGVfbnVtbWVyX2FydGllc3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5hcnRpZXN0KSk7XG4gICAgfVxuICAgIGlmICggaXNfdnJpamVrZXV6ZSApIHtcbiAgICAgIHRoaXMuZV90cl91aXRrbGFwLmNsYXNzTGlzdC5hZGQoJ3ZyaWpla2V1emUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFhayBkZSBrb2xvbXRpdGVscyB2YW4gZGUgaW52dWx2ZWxkZW4gdmFuIGRlIHN0ZW1tZW4gKG5hYW0sIGUtbWFpbCBlLmQuKS5cbiAgICovXG4gIGFzeW5jIG1hYWtfdmVsZGVuX2xhYmVscygpIHtcbiAgICBpZiAoIHRoaXMuZV90cl9nZWdldmVucyA9PSBudWxsICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOdW1tZXIgaXMgbmlldCB1aXRnZWtsYXB0Jyk7XG4gICAgfVxuICAgIGNvbnN0IGVfY29udGFpbmVyID0gdGhpcy5lX3RyX2dlZ2V2ZW5zLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkIHRyJyk7XG4gICAgY29uc3QgZV9pbnNlcnRfYmVmb3JlID0gZV9jb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICBjb25zdCBsYWJlbHMgPSBhd2FpdCB0aGlzLmxhYmVsc19wcm9taXNlO1xuICAgIGZvciAoIGNvbnN0IGxhYmVsIG9mIGxhYmVscyApIHtcbiAgICAgIGNvbnN0IGVfbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgZV9sYWJlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsYWJlbCkpO1xuICAgICAgZV9jb250YWluZXIuaW5zZXJ0QmVmb3JlKGVfbGFiZWwsIGVfaW5zZXJ0X2JlZm9yZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hYWt0IHZpZXdzIHZvb3IgZGUgc3RlbW1lbi4gQWxsZWVuIGFhbnJvZXBlbiBiaWogaGV0IHVpdGtsYXBwZW4uXG4gICAqL1xuICBtYWFrX3N0ZW1tZW4oKSB7XG4gICAgaWYgKCB0aGlzLmVfdHJfZ2VnZXZlbnMgPT0gbnVsbCApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTnVtbWVyIGlzIG5pZXQgdWl0Z2VrbGFwdCcpO1xuICAgIH1cbiAgICBjb25zdCBlX3Rib2R5ID0gdGhpcy5lX3RyX2dlZ2V2ZW5zLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0Ym9keScpLml0ZW0oMCk7XG4gICAgZm9yICggY29uc3Qgc3RlbSBvZiB0aGlzLnN0ZW1tZW5fZ2VmaWx0ZXJkICkge1xuICAgICAgY29uc3QgcmVzdWx0YXRlbl9zdGVtID0gbmV3IFJlc3VsdGF0ZW5TdGVtKHRoaXMsIGVfdGJvZHksIHN0ZW0pO1xuICAgICAgcmVzdWx0YXRlbl9zdGVtLm9uX2NoYW5nZV9pc19iZWhhbmRlbGQub24odGhpcy5iZWhhbmRlbGRfY2hhbmdlX2hhbmRsZXIuYmluZCh0aGlzLCBzdGVtLnN0ZW1tZXJfaWQpKTtcbiAgICAgIHJlc3VsdGF0ZW5fc3RlbS5vbl92ZXJ3aWpkZXJkLm9uKHRoaXMuc3RlbV92ZXJ3aWpkZXJkX2hhbmRsZXIuYmluZCh0aGlzLCBzdGVtLnN0ZW1tZXJfaWQpKTtcbiAgICAgIHRoaXMucmVzdWx0YXRlbl9zdGVtbWVuW3N0ZW0uc3RlbW1lcl9pZF0gPSByZXN1bHRhdGVuX3N0ZW07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFpldCBlZW4gc3RlbSBvcCBiZWhhbmRlbGQgb2YgbmlldCBuYSBlZW4ga2xpayBvcCBoZXQgdmlua2hva2plLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RlbW1lcl9pZCBcbiAgICogQHBhcmFtIHtib29sZWFufSBpc19iZWhhbmRlZFxuICAgKi9cbiAgYmVoYW5kZWxkX2NoYW5nZV9oYW5kbGVyKHN0ZW1tZXJfaWQsIGlzX2JlaGFuZGVsZCkge1xuICAgIGNvbnN0IGkgPSB0aGlzLnN0ZW1tZW4uZmluZEluZGV4KHN0ZW0gPT4gc3RlbS5zdGVtbWVyX2lkID09PSBzdGVtbWVyX2lkKTtcbiAgICB0aGlzLnN0ZW1tZW5baV0uaXNfYmVoYW5kZWxkID0gaXNfYmVoYW5kZWxkO1xuICAgIHRoaXMudXBkYXRlX2JlaGFuZGVsZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hYWt0IGRlIHJlZ2VsIGdyb2VuIGFscyBhbGxlIHN0ZW1tZW4gYmVoYW5kZWxkIHppam4gKG9vayBkZSBzdGVtbWVuIGJ1aXRlbiBoZXQgZmlsdGVyKVxuICAgKi9cbiAgdXBkYXRlX2JlaGFuZGVsZCgpIHtcbiAgICBpZiAodGhpcy5zdGVtbWVuLmV2ZXJ5KHN0ZW0gPT4gc3RlbS5pc19iZWhhbmRlbGQpKSB7XG4gICAgICB0aGlzLmVfdHJfdWl0a2xhcC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZV90cl91aXRrbGFwLmNsYXNzTGlzdC5yZW1vdmUoJ3N1Y2Nlc3MnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmVyd2lqZGVydCBlZW4gc3RlbSBlbiBldmVudHVlZWwgZGUgaGVsZSByZWdlbCBhbHMgZXIgZ2VlbiBzdGVtbWVuIG1lZXIgemlqbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZW1tZXJfaWQgXG4gICAqL1xuICBzdGVtX3ZlcndpamRlcmRfaGFuZGxlcihzdGVtbWVyX2lkKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuc3RlbW1lbi5maW5kSW5kZXgoc3RlbSA9PiBzdGVtLnN0ZW1tZXJfaWQgPT09IHN0ZW1tZXJfaWQpO1xuICAgIGlmIChpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGVtIG5pZXQgZ2V2b25kZW4nKTtcbiAgICB9XG4gICAgdGhpcy5zdGVtbWVuLnNwbGljZShpLCAxKTtcbiAgICBkZWxldGUgdGhpcy5yZXN1bHRhdGVuX3N0ZW1tZW5bc3RlbW1lcl9pZF07XG4gICAgdGhpcy5vbl9zdGVtX3ZlcndpamRlcmQuZW1pdCgpO1xuICAgIHRoaXMudXBkYXRlX2FhbnRhbF9zdGVtbWVuKCk7XG4gICAgaWYgKCB0aGlzLnN0ZW1tZW4ubGVuZ3RoID09PSAwICkge1xuICAgICAgLy8gTnVtbWVyIGhlZWZ0IGdlZW4gc3RlbW1lbiBtZWVyLiBFbGVtZW50IHZlcndpamRlcmVuLlxuICAgICAgdGhpcy5pbmtsYXBwZW4oKTtcbiAgICAgIHRoaXMuZV90cl91aXRrbGFwLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgaGV0IHZlbGQgbWV0IGhldCBhYW50YWwgc3RlbW1lbiBvcCBkaXQgbnVtbWVyLlxuICAgKi9cbiAgdXBkYXRlX2FhbnRhbF9zdGVtbWVuKCkge1xuICAgIHRoaXMuZV9hYW50YWxfc3RlbW1lbi5pbm5lclRleHQgPSB0aGlzLnN0ZW1tZW4ubGVuZ3RoO1xuICB9XG5cbiAgLy8gYXN5bmMgdmVyd2lqZGVyZW4oZSkge1xuICAvLyAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIC8vICAgaWYgKCBjb25maXJtKCdEaXQgbnVtbWVyLCBpbmNsdXNpZWYgYWxsZSBzdGVtbWVuIGhpZXJvcCwgdmVyd2lqZGVyZW4gdWl0IGRlIHN0ZW1saWpzdD8nKSApIHtcbiAgLy8gICAgIGNvbnN0IGFhbnRhbF9zdGVtbWVuID0gdGhpcy5nZXRfYWFudGFsX3N0ZW1tZW4oKTtcbiAgLy8gICAgIGF3YWl0IHNlcnZlci5wb3N0KCd2ZXJ3aWpkZXJfbnVtbWVyJywge1xuICAvLyAgICAgICBsaWpzdDogdGhpcy5saWpzdF9pZCxcbiAgLy8gICAgICAgbnVtbWVyOiB0aGlzLm51bW1lcl9pZFxuICAvLyAgICAgfSk7XG4gIC8vICAgICB0aGlzLmVfdHJfZ2VnZXZlbnMucmVtb3ZlKCk7XG4gIC8vICAgICB0aGlzLmVfdHJfdWl0a2xhcC5yZW1vdmUoKTtcbiAgLy8gICAgIHRoaXMub25fdmVyd2lqZGVyZC5lbWl0KGFhbnRhbF9zdGVtbWVuKTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICAvKipcbiAgICogU3RlbHQgZWVuIGZpbHRlciBpbi4gRGUgcmVnZWwgd29yZHQgaW5nZWtsYXB0LlxuICAgKiBcbiAgICogQHBhcmFtIHtzdHJpbmd9IG51bW1lcnNfdGVrc3QgXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdGVtbWVyc190ZWtzdCBcbiAgICogQHBhcmFtIHtEYXRlfG51bGx9IHZhbiBcbiAgICogQHBhcmFtIHtEYXRlfG51bGx9IHRvdCBcbiAgICovXG4gIGZpbHRlcihcbiAgICBudW1tZXJzX3Rla3N0LFxuICAgIHN0ZW1tZXJzX3Rla3N0LFxuICAgIHZhbixcbiAgICB0b3RcbiAgKSB7XG4gICAgdGhpcy5pbmtsYXBwZW4oKTtcbiAgICAvLyBGaWx0ZXIgaGV0IG51bW1lci5cbiAgICB0aGlzLmlzX3ppY2h0YmFhciA9XG4gICAgICBudW1tZXJzX3Rla3N0ID09ICcnXG4gICAgICB8fCB0aGlzLnRpdGVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobnVtbWVyc190ZWtzdClcbiAgICAgIHx8IHRoaXMuYXJ0aWVzdC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG51bW1lcnNfdGVrc3QpO1xuXG4gICAgaWYgKCB0aGlzLmlzX3ppY2h0YmFhciApIHtcbiAgICAgIC8vIEZpbHRlciBkZSBzdGVtbWVuLlxuICAgICAgdGhpcy5maWx0ZXJfc3RlbW1lbih7XG4gICAgICAgIHRla3N0OiBzdGVtbWVyc190ZWtzdCxcbiAgICAgICAgdmFuOiB2YW4sXG4gICAgICAgIHRvdDogdG90XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaXNfemljaHRiYWFyICY9ICh0aGlzLnN0ZW1tZW5fZ2VmaWx0ZXJkLmxlbmd0aCA+IDApO1xuICAgIH1cblxuICAgIGlmICggdGhpcy5pc196aWNodGJhYXIgKSB7XG4gICAgICB0aGlzLmVfdHJfdWl0a2xhcC5jbGFzc0xpc3QucmVtb3ZlKCd2ZXJib3JnZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lX3RyX3VpdGtsYXAuY2xhc3NMaXN0LmFkZCgndmVyYm9yZ2VuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhc3QgZWVuIGZpbHRlciB0b2UuIERlIGdlZmlsdGVyZGUgc3RlbW1lbiB3b3JkZW4gaW4gc3RlbW1lbl9nZWZpbHRlcmQgb3BnZXNsYWdlbi5cbiAgICogXG4gICAqIEBwYXJhbSB7e3Rla3N0OiBzdHJpbmcsIHZhbjogP0RhdGUsIHRvdDogP0RhdGV9fSBmaWx0ZXIgXG4gICAqL1xuICBmaWx0ZXJfc3RlbW1lbihmaWx0ZXIpIHtcbiAgICBpZiAoZmlsdGVyLnRla3N0ID09PSAnJyAmJiBmaWx0ZXIudmFuID09IG51bGwgJiYgZmlsdGVyLnRvdCA9PSBudWxsKSB7XG4gICAgICAvLyBHZWVuIGZpbHRlclxuICAgICAgdGhpcy5zdGVtbWVuX2dlZmlsdGVyZCA9IHRoaXMuc3RlbW1lbjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0ZW1tZW5fZ2VmaWx0ZXJkID0gW107XG4gICAgZm9yIChjb25zdCBzdGVtIG9mIHRoaXMuc3RlbW1lbikge1xuICAgICAgY29uc3QgbWV0YWRhdGFfdm9vcl9maWx0ZXIgPSBzdGVtLnZlbGRlbi5tYXAodmVsZCA9PiB2ZWxkLndhYXJkZSkuam9pbignICcpLnRvTG93ZXJDYXNlKCkgKyBzdGVtLnRvZWxpY2h0aW5nO1xuICAgICAgaWYgKGZpbHRlci50ZWtzdCAhPT0gJycgJiYgZmlsdGVyLnRla3N0ICE9PSBudWxsICYmICFtZXRhZGF0YV92b29yX2ZpbHRlci5pbmNsdWRlcyhmaWx0ZXIudGVrc3QpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlci52YW4gIT0gbnVsbCAmJiBuZXcgRGF0ZShzdGVtLnRpbWVzdGFtcCkgPCBmaWx0ZXIudmFuKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlci50b3QgIT0gbnVsbCAmJiBuZXcgRGF0ZShzdGVtLnRpbWVzdGFtcCkgPiBmaWx0ZXIudG90KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGVtbWVuX2dlZmlsdGVyZC5wdXNoKHN0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIGlzX3VpdGdla2xhcHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZV90cl9nZWdldmVucyAhPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcndpamRlcnQgZGUgdGFiZWwgbWV0IHN0ZW1tZXJzIG9wIGRpdCBudW1tZXIuXG4gICAqL1xuICBpbmtsYXBwZW4oKSB7XG4gICAgaWYgKHRoaXMuZV90cl9nZWdldmVucyAhPSBudWxsKSB7XG4gICAgICB0aGlzLmVfdHJfZ2VnZXZlbnMucmVtb3ZlKCk7XG4gICAgICB0aGlzLmVfdHJfZ2VnZXZlbnMgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmVfdHJfdWl0a2xhcC5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJlZXJ0IGRlIEhUTUwgdmFuIGRlIHRhYmVsIG1ldCBzdGVtbWVycyBvcCBkaXQgbnVtbWVyIGVuIHBsYWF0c3QgZGl0IG9wIGRlIHBhZ2luYS5cbiAgICovXG4gIHVpdGtsYXBwZW4oKSB7XG4gICAgaWYgKHRoaXMuZV90cl9nZWdldmVucyA9PSBudWxsKSB7XG4gICAgICB0aGlzLmVfdHJfdWl0a2xhcC5jbGFzc0xpc3QucmVtb3ZlKCdjb2xsYXBzZWQnKTtcbiAgICAgIHRoaXMuZV90cl9nZWdldmVucyA9IHJlc3VsdGF0ZW5fbnVtbWVyX3RlbXBsYXRlLml0ZW0oMSkuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgdGhpcy5lX3RyX3VpdGtsYXAuYWZ0ZXIodGhpcy5lX3RyX2dlZ2V2ZW5zKTtcbiAgICAgIHRoaXMuZV90cl9nZWdldmVucy5pZCA9IGBudW1tZXItc3RlbW1lcnMtJHt0aGlzLm51bW1lcl9pZH1gO1xuICAgICAgdGhpcy5lX3RyX2dlZ2V2ZW5zLnNldEF0dHJpYnV0ZSgnZGF0YS1udW1tZXItaWQnLCB0aGlzLm51bW1lcl9pZCk7XG4gICAgICB0aGlzLm1hYWtfdmVsZGVuX2xhYmVscygpO1xuICAgICAgdGhpcy5tYWFrX3N0ZW1tZW4oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG9vbnQgZGUgdGFiZWwgbWV0IHN0ZW1tZW4gYWxzIGRpZSBudSBuaWV0IHppY2h0YmFhciBpcyBlbiBhbmRlcnNvbS5cbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5pc191aXRnZWtsYXB0KCkpIHtcbiAgICAgIHRoaXMuaW5rbGFwcGVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudWl0a2xhcHBlbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RlbW1lcl9pZFxuICAgKiBAcmV0dXJucyB7UmVzdWx0YXRlblN0ZW19XG4gICAqL1xuICBnZXRfc3RlbShzdGVtbWVyX2lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzdWx0YXRlbl9zdGVtbWVuW3N0ZW1tZXJfaWRdO1xuICB9XG5cbn1cblxuLyoqXG4gKiBTdGVtIHBlciBudW1tZXJcbiAqL1xuY2xhc3MgUmVzdWx0YXRlblN0ZW0ge1xuXG4gIC8qKiBAdHlwZSB7UmVzdWx0YXRlbk51bW1lcn0gKi9cbiAgcmVzdWx0YXRlbl9udW1tZXI7XG4gIC8qKiBAdHlwZSB7SFRNTFRhYmxlUm93RWxlbWVudH0gKi9cbiAgZV90cjtcbiAgLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqL1xuICBlX2JlaGFuZGVsZF9pbnB1dDtcbiAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICBpc19iZWhhbmRlbGQ7XG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICBzdGVtbWVyX2lkO1xuICAvKiogQHR5cGUge3N0cmluZ1tdfSAqL1xuICBtZXRhZGF0YV92b29yX2ZpbHRlcjtcbiAgLyoqIEB0eXBlIHtEYXRlfSAqL1xuICB0aW1lc3RhbXA7XG4gIC8qKiBAdHlwZSB7VHlwZWRFdmVudDxib29sZWFuPn0gKi9cbiAgb25fY2hhbmdlX2lzX2JlaGFuZGVsZDtcbiAgLyoqIEB0eXBlIHtUeXBlZEV2ZW50PHZvaWQ+fSAqL1xuICBvbl92ZXJ3aWpkZXJkO1xuICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gIGlzX3ppY2h0YmFhcjtcblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7UmVzdWx0YXRlbk51bW1lcn0gcmVzdWx0YXRlbl9udW1tZXIgXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVfY29udGFpbmVyIFxuICAgKiBAcGFyYW0ge2FueX0gcGFyYW0zIFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVzdWx0YXRlbl9udW1tZXIsXG4gICAgZV9jb250YWluZXIsXG4gICAge1xuICAgICAgc3RlbW1lcl9pZCxcbiAgICAgIGlwLFxuICAgICAgaXNfYmVoYW5kZWxkLFxuICAgICAgdG9lbGljaHRpbmcsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgICB2ZWxkZW5cbiAgICB9KSB7XG4gICAgdGhpcy5vbl9jaGFuZ2VfaXNfYmVoYW5kZWxkID0gbmV3IFR5cGVkRXZlbnQoKTtcbiAgICB0aGlzLm9uX3ZlcndpamRlcmQgPSBuZXcgVHlwZWRFdmVudCgpO1xuICAgIHRoaXMucmVzdWx0YXRlbl9udW1tZXIgPSByZXN1bHRhdGVuX251bW1lcjtcbiAgICB0aGlzLnN0ZW1tZXJfaWQgPSBzdGVtbWVyX2lkO1xuICAgIHRoaXMubWV0YWRhdGFfdm9vcl9maWx0ZXIgPSBbXTtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gICAgdGhpcy5pc19iZWhhbmRlbGQgPSBpc19iZWhhbmRlbGQ7XG4gICAgdGhpcy5pc196aWNodGJhYXIgPSB0cnVlO1xuICAgIHRoaXMuZV90ciA9IHJlc3VsdGF0ZW5fc3RlbV90ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5lX3RyLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGVtbWVyLWlkJywgdGhpcy5zdGVtbWVyX2lkKTtcbiAgICB0aGlzLmVfYmVoYW5kZWxkX2lucHV0ID0gdGhpcy5lX3RyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpLml0ZW0oMCk7XG4gICAgdGhpcy5lX2JlaGFuZGVsZF9pbnB1dC5jaGVja2VkID0gdGhpcy5pc19iZWhhbmRlbGQ7XG4gICAgdGhpcy51cGRhdGVfYmVoYW5kZWxkKCk7XG4gICAgZm9yICggY29uc3QgZV90aW1lc3RhbXAgb2YgdGhpcy5lX3RyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0ZW1tZXItdGltZXN0YW1wJykgKSB7XG4gICAgICBlX3RpbWVzdGFtcC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICB0aGlzLnRpbWVzdGFtcC50b0xvY2FsZVN0cmluZygnbmwtTkwnLCB7XG4gICAgICAgICAgICBkYXRlU3R5bGU6IFwic2hvcnRcIixcbiAgICAgICAgICAgIHRpbWVTdHlsZTogJ3Nob3J0J1xuICAgICAgICAgIH0pXG4gICAgICApKTtcbiAgICB9XG4gICAgZm9yICggY29uc3QgZV90b2VsaWNodGluZyBvZiB0aGlzLmVfdHIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RlbS10b2VsaWNodGluZycpICkge1xuICAgICAgZV90b2VsaWNodGluZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b2VsaWNodGluZykpO1xuICAgIH1cbiAgICB0aGlzLm1hYWtfdmVsZGVuKHZlbGRlbik7XG4gICAgdGhpcy5lX3RyLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCd0aXRsZScsIGlwKTtcblxuICAgIGVfY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZV90cik7XG4gIH1cblxuICBtYWFrX3ZlbGRlbih2ZWxkZW4pIHtcbiAgICBjb25zdCBlX2luc2VydF9iZWZvcmUgPSB0aGlzLmVfdHIuZmlyc3RDaGlsZDtcbiAgICBmb3IgKCBjb25zdCBpdGVtIG9mIHZlbGRlbiApIHtcbiAgICAgIHRoaXMubWV0YWRhdGFfdm9vcl9maWx0ZXIucHVzaChpdGVtLndhYXJkZSk7XG4gICAgICBjb25zdCBlX3RkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgIGlmICggaXRlbS53YWFyZGUgIT09IG51bGwgJiYgaXRlbS53YWFyZGUgIT09ICcnICkge1xuICAgICAgICBpZiAoIGl0ZW0udHlwZSA9PT0gJ2VtYWlsJyB8fCBpdGVtLnR5cGUgPT09ICd0ZWwnICkge1xuICAgICAgICAgIGNvbnN0IGVfYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICBsZXQgcHJlZml4ID0gJyc7XG4gICAgICAgICAgaWYgKCBpdGVtLnR5cGUgPT09ICdlbWFpbCcgKSB7XG4gICAgICAgICAgICBwcmVmaXggPSAnbWFpbHRvOic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICggaXRlbS50eXBlID09PSAndGVsJyApIHtcbiAgICAgICAgICAgIHByZWZpeCA9ICd0ZWw6JztcbiAgICAgICAgICB9XG4gICAgICAgICAgZV9hLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke3ByZWZpeH0ke2l0ZW0ud2FhcmRlfWApO1xuICAgICAgICAgIGxldCB0ZWtzdDtcbiAgICAgICAgICBpZiAoIGl0ZW0udHlwZSA9PT0gJ3RlbCcgKSB7XG4gICAgICAgICAgICB0ZWtzdCA9IGZ1bmN0aWVzLmZvcm1hdF90ZWxlZm9vbm51bW1lcihpdGVtLndhYXJkZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRla3N0ID0gaXRlbS53YWFyZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVfYS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZWtzdCkpO1xuICAgICAgICAgIGVfdGQuYXBwZW5kQ2hpbGQoZV9hKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlX3RkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGl0ZW0ud2FhcmRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCBpdGVtLnR5cGUgPT09ICdlbWFpbCcgfHwgaXRlbS50eXBlID09PSAndGVsJyB8fCBpdGVtLnR5cGUgPT09ICdwb3N0Y29kZScgKSB7XG4gICAgICAgICAgZV90ZC5jbGFzc0xpc3QuYWRkKCdub2JyZWFrJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuZV90ci5pbnNlcnRCZWZvcmUoZV90ZCwgZV9pbnNlcnRfYmVmb3JlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBiZWhhbmRlbGRfaGFuZGxlcigpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2VydmVyLnBvc3QoJ3N0ZW1fc2V0X2JlaGFuZGVsZCcsIHtcbiAgICAgICAgbnVtbWVyOiB0aGlzLnJlc3VsdGF0ZW5fbnVtbWVyLm51bW1lcl9pZCxcbiAgICAgICAgbGlqc3Q6IHRoaXMucmVzdWx0YXRlbl9udW1tZXIucmVzdWx0YXRlbl9tb2RhbC5saWpzdF9pZCxcbiAgICAgICAgc3RlbW1lcjogdGhpcy5zdGVtbWVyX2lkLFxuICAgICAgICB3YWFyZGU6IHRoaXMuZV9iZWhhbmRlbGRfaW5wdXQuY2hlY2tlZFxuICAgICAgfSk7XG4gICAgICB0aGlzLmlzX2JlaGFuZGVsZCA9IHRoaXMuZV9iZWhhbmRlbGRfaW5wdXQuY2hlY2tlZDtcbiAgICAgIHRoaXMub25fY2hhbmdlX2lzX2JlaGFuZGVsZC5lbWl0KHRoaXMuaXNfYmVoYW5kZWxkKTtcbiAgICAgIHRoaXMudXBkYXRlX2JlaGFuZGVsZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuZV9iZWhhbmRlbGRfaW5wdXQuY2hlY2tlZCA9ICF0aGlzLmVfYmVoYW5kZWxkX2lucHV0LmNoZWNrZWQ7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlX2JlaGFuZGVsZCgpIHtcbiAgICBpZiAoIHRoaXMuaXNfYmVoYW5kZWxkICkge1xuICAgICAgdGhpcy5lX3RyLmNsYXNzTGlzdC5hZGQoJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lX3RyLmNsYXNzTGlzdC5yZW1vdmUoJ3N1Y2Nlc3MnKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB2ZXJ3aWpkZXJlbigpIHtcbiAgICBhd2FpdCBzZXJ2ZXIucG9zdCgndmVyd2lqZGVyX3N0ZW0nLCB7XG4gICAgICBudW1tZXI6IHRoaXMucmVzdWx0YXRlbl9udW1tZXIubnVtbWVyX2lkLFxuICAgICAgbGlqc3Q6IHRoaXMucmVzdWx0YXRlbl9udW1tZXIucmVzdWx0YXRlbl9tb2RhbC5saWpzdF9pZCxcbiAgICAgIHN0ZW1tZXI6IHRoaXMuc3RlbW1lcl9pZFxuICAgIH0pO1xuICAgIHRoaXMuZV90ci5yZW1vdmUoKTtcbiAgICB0aGlzLm9uX3ZlcndpamRlcmQuZW1pdCgpO1xuICB9XG59XG5cbmNsYXNzIEJlaGVlck1vZGFsIHtcblxuICAvKiogQHR5cGUgez9udW1iZXJ9ICovXG4gIGxpanN0X2lkO1xuICAvKiogQHR5cGUge0hUTUxEaXZFbGVtZW50fSAqL1xuICBlX21vZGFsO1xuICAvKiogQHR5cGUge2pRdWVyeX0gKi9cbiAgJG1vZGFsO1xuICAvKiogQHR5cGUge0hUTUxGb3JtRWxlbWVudH0gKi9cbiAgZV9mb3JtO1xuICAvKiogQHR5cGUge0hUTUxEaXZFbGVtZW50fSAqL1xuICBlX3ZlbGRlbl96aWNodGJhYXJfa29sb207XG4gIC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovXG4gIGVfdmVsZGVuX3ZlcnBsaWNodF9rb2xvbTtcbiAgLyoqIEB0eXBlIHtUeXBlZEV2ZW50PHtpZDogbnVtYmVyLCBuYWFtOiBzdHJpbmd9Pn0gKi9cbiAgb25fbGlqc3RfZ2VtYWFrdDtcbiAgLyoqIEB0eXBlIHtUeXBlZEV2ZW50PHtpZDogbnVtYmVyLCBuYWFtOiBzdHJpbmd9Pn0gKi9cbiAgb25fbGlqc3RfdmVyYW5kZXJkO1xuICAvKiogQHR5cGUge1R5cGVkRXZlbnQ8e2lkOiBudW1iZXJ9Pn0gKi9cbiAgb25fbGlqc3RfdmVyd2lqZGVyZDtcblxuICBjb25zdHJ1Y3RvcihsaWpzdF9pZCkge1xuICAgIHRoaXMub25fbGlqc3RfZ2VtYWFrdCA9IG5ldyBUeXBlZEV2ZW50KCk7XG4gICAgdGhpcy5vbl9saWpzdF92ZXJhbmRlcmQgPSBuZXcgVHlwZWRFdmVudCgpO1xuICAgIHRoaXMub25fbGlqc3RfdmVyd2lqZGVyZCA9IG5ldyBUeXBlZEV2ZW50KCk7XG4gICAgdGhpcy5saWpzdF9pZCA9IGxpanN0X2lkO1xuXG4gICAgdGhpcy5lX21vZGFsID0gYmVoZWVyX21vZGFsX3RlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLmVfZm9ybSA9IHRoaXMuZV9tb2RhbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZm9ybScpLml0ZW0oMCk7XG4gICAgdGhpcy5lX3ZlbGRlbl96aWNodGJhYXJfa29sb20gPSB0aGlzLmVfbW9kYWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmVsZGVuLXppY2h0YmFhci1rb2xvbScpLml0ZW0oMCk7XG4gICAgdGhpcy5lX3ZlbGRlbl92ZXJwbGljaHRfa29sb20gPSB0aGlzLmVfbW9kYWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmVsZGVuLXZlcnBsaWNodC1rb2xvbScpLml0ZW0oMCk7XG5cbiAgICBpZiAoIHRoaXMuaXNfbmlldXcoKSApIHtcbiAgICAgIHRoaXMuZV9tb2RhbC5jbGFzc0xpc3QuYWRkKCdpcy1uaWV1dycpO1xuICAgICAgdGhpcy5tYWFrX2xlZ2VfdmVsZF9jaGVja3MoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52dWxfZGF0YSgpO1xuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpLml0ZW0oMCkuYXBwZW5kQ2hpbGQodGhpcy5lX21vZGFsKTtcblxuICAgIC8vIExpanN0IG9wc2xhYW5cbiAgICB0aGlzLmVfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLm9wc2xhYW4uYmluZCh0aGlzKSk7XG5cbiAgICAvLyBMaWpzdCB2ZXJ3aWpkZXJlblxuICAgIHRoaXMuZV9mb3JtLmVsZW1lbnRzWyd2ZXJ3aWpkZXItbGlqc3QnXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudmVyd2lqZGVyX2xpanN0LmJpbmQodGhpcykpO1xuXG4gICAgLy8vLyBWb29yIGJvb3RzdHJhcCA1XG4gICAgLy8gdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmVfbW9kYWwsIHtcbiAgICAvLyAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIC8vICAgZm9jdXM6IHRydWUsXG4gICAgLy8gICBrZXlib2FyZDogdHJ1ZVxuICAgIC8vIH0pO1xuICAgIC8vIHRoaXMuZV9tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdoaWRkZW4uYnMubW9kYWwnLCBlID0+IHtcbiAgICAvLyAgIHRoaXMuZV9tb2RhbC5yZW1vdmUoKTtcbiAgICAvLyB9KTtcbiAgICB0aGlzLiRtb2RhbCA9ICQodGhpcy5lX21vZGFsKTtcbiAgICB0aGlzLiRtb2RhbC5tb2RhbCh7XG4gICAgICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAga2V5Ym9hcmQ6IHRydWVcbiAgICAgIH0pO1xuICAgIHRoaXMuJG1vZGFsLm9uKCdoaWRkZW4uYnMubW9kYWwnLCB0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSk7XG4gICAgXG4gICAgdGhpcy4kbW9kYWwubW9kYWwoJ3Nob3cnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc19uaWV1dygpIHtcbiAgICByZXR1cm4gdGhpcy5saWpzdF9pZCA9PT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgYXN5bmMgdnVsX2RhdGEoKSB7XG4gICAgdGhpcy5lX2Zvcm0uZWxlbWVudHMubGlqc3QudmFsdWUgPSB0aGlzLmxpanN0X2lkO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzZXJ2ZXIucG9zdCgnZ2V0X2JlaGVlcl9saWpzdGRhdGEnLCB7XG4gICAgICBsaWpzdDogdGhpcy5saWpzdF9pZFxuICAgIH0pO1xuXG4gICAgZm9yICggY29uc3QgZV9saWpzdF9uYWFtIG9mIHRoaXMuZV9tb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcubGlqc3QtbmFhbScpICkge1xuICAgICAgZV9saWpzdF9uYWFtLnRleHRDb250ZW50ID0gZGF0YS5uYWFtO1xuICAgIH1cbiAgICB0aGlzLmVfZm9ybS5lbGVtZW50c1snaXMtYWN0aWVmJ10uY2hlY2tlZCA9IGRhdGEuaXNfYWN0aWVmO1xuICAgIHRoaXMuZV9mb3JtLmVsZW1lbnRzLm5hYW0udmFsdWUgPSBkYXRhLm5hYW07XG4gICAgdGhpcy5lX2Zvcm0uZWxlbWVudHMubWlua2V1emVzLnZhbHVlID0gZGF0YS5taW5rZXV6ZXM7XG4gICAgdGhpcy5lX2Zvcm0uZWxlbWVudHMubWF4a2V1emVzLnZhbHVlID0gZGF0YS5tYXhrZXV6ZXM7XG4gICAgdGhpcy5lX2Zvcm0uZWxlbWVudHMudnJpamVrZXV6ZXMudmFsdWUgPSBkYXRhLnZyaWpla2V1emVzO1xuICAgIHRoaXMuZV9mb3JtLmVsZW1lbnRzWydzdGVtbWVuLXBlci1pcCddLnZhbHVlID0gZGF0YS5zdGVtbWVuX3Blcl9pcDtcbiAgICB0aGlzLmVfZm9ybS5lbGVtZW50c1snYXJ0aWVzdC1lZW5tYWxpZyddLmNoZWNrZWQgPSBkYXRhLmFydGllc3RfZWVubWFsaWc7XG4gICAgdGhpcy5lX2Zvcm0uZWxlbWVudHNbJ21haWwtc3RlbW1lcnMnXS5jaGVja2VkID0gZGF0YS5tYWlsX3N0ZW1tZXJzO1xuICAgIHRoaXMuZV9mb3JtLmVsZW1lbnRzWydyYW5kb20tdm9sZ29yZGUnXS5jaGVja2VkID0gZGF0YS5yYW5kb21fdm9sZ29yZGU7XG4gICAgdGhpcy5lX2Zvcm0uZWxlbWVudHMucmVjYXB0Y2hhLmNoZWNrZWQgPSBkYXRhLnJlY2FwdGNoYTtcbiAgICB0aGlzLmVfZm9ybS5lbGVtZW50cy5lbWFpbC52YWx1ZSA9IGRhdGEuZW1haWw7XG4gICAgdGhpcy5lX2Zvcm0uZWxlbWVudHNbJ2JlZGFua3QtdGVrc3QnXS52YWx1ZSA9IGRhdGEuYmVkYW5rdF90ZWtzdDtcblxuICAgIGZvciAoIGNvbnN0IHZlbGQgb2YgZGF0YS52ZWxkZW4gKSB7XG4gICAgICB0aGlzLm1hYWtfdmVsZF9jaGVja3ModmVsZCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbWFha19sZWdlX3ZlbGRfY2hlY2tzKCkge1xuICAgIGNvbnN0IHZlbGRlbiA9IGF3YWl0IHNlcnZlci5wb3N0KCdnZXRfYWxsZV92ZWxkZW4nLCB7fSk7XG4gICAgZm9yICggY29uc3QgdmVsZCBvZiB2ZWxkZW4gKSB7XG4gICAgICB0aGlzLm1hYWtfdmVsZF9jaGVja3ModmVsZCk7XG4gICAgfVxuICB9XG5cbiAgbWFha192ZWxkX2NoZWNrcyh2ZWxkKSB7XG4gICAgY29uc3QgemljaHRiYWFyX2lkID0gZnVuY3RpZXMuZ2V0X3JhbmRvbV9zdHJpbmcoMTYpO1xuICAgIGNvbnN0IHZlcnBsaWNodF9pZCA9IGZ1bmN0aWVzLmdldF9yYW5kb21fc3RyaW5nKDE2KTtcblxuICAgIGNvbnN0IGVfemljaHRiYWFyX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGVfemljaHRiYWFyX2xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBlX3ppY2h0YmFhcl9jaGVjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY29uc3QgZV96aWNodGJhYXJfbGFiZWxfdGVrc3QgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2ZWxkLmxhYmVsKTtcbiAgICBjb25zdCBlX3ZlcnBsaWNodF9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBlX3ZlcnBsaWNodF9sYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgZV92ZXJwbGljaHRfY2hlY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IGVfdmVycGxpY2h0X2xhYmVsX3Rla3N0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1ZlcnBsaWNodCcpO1xuXG4gICAgdGhpcy5lX3ZlbGRlbl96aWNodGJhYXJfa29sb20uYXBwZW5kQ2hpbGQoZV96aWNodGJhYXJfY29udGFpbmVyKTtcbiAgICBlX3ppY2h0YmFhcl9jb250YWluZXIuYXBwZW5kQ2hpbGQoZV96aWNodGJhYXJfbGFiZWwpO1xuICAgIGVfemljaHRiYWFyX2xhYmVsLmFwcGVuZENoaWxkKGVfemljaHRiYWFyX2NoZWNrKTtcbiAgICBlX3ppY2h0YmFhcl9sYWJlbC5hcHBlbmRDaGlsZChlX3ppY2h0YmFhcl9sYWJlbF90ZWtzdCk7XG4gICAgdGhpcy5lX3ZlbGRlbl92ZXJwbGljaHRfa29sb20uYXBwZW5kQ2hpbGQoZV92ZXJwbGljaHRfY29udGFpbmVyKTtcbiAgICBlX3ZlcnBsaWNodF9jb250YWluZXIuYXBwZW5kQ2hpbGQoZV92ZXJwbGljaHRfbGFiZWwpO1xuICAgIGVfdmVycGxpY2h0X2xhYmVsLmFwcGVuZENoaWxkKGVfdmVycGxpY2h0X2NoZWNrKTtcbiAgICBlX3ZlcnBsaWNodF9sYWJlbC5hcHBlbmRDaGlsZChlX3ZlcnBsaWNodF9sYWJlbF90ZWtzdCk7XG5cbiAgICBlX3ppY2h0YmFhcl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBlX3ZlcnBsaWNodF9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBcbiAgICBlX3ppY2h0YmFhcl9jaGVjay50eXBlID0gJ2NoZWNrYm94JztcbiAgICBlX3ppY2h0YmFhcl9jaGVjay5pZCA9IHppY2h0YmFhcl9pZDtcbiAgICBlX3ppY2h0YmFhcl9jaGVjay5uYW1lID0gYHZlbGRlblske3ZlbGQuaWR9XVt0b25lbl1gO1xuICAgIGVfemljaHRiYWFyX2NoZWNrLmNoZWNrZWQgPSB2ZWxkLnRvbmVuO1xuICAgIGVfemljaHRiYWFyX2NoZWNrLnNldEF0dHJpYnV0ZSgnZGF0YS1pbnB1dC12ZXJwbGljaHQnLCB2ZXJwbGljaHRfaWQpO1xuICAgIC8vIFZlcnBsaWNodCBlbmFibGVuL2Rpc2FibGVuIG5hIGNoZWNrL3VuY2hlY2sgdG9uZW5cbiAgICBlX3ppY2h0YmFhcl9jaGVjay5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoZWNrX3ZlcnBsaWNodC5iaW5kKHRoaXMpKTtcbiAgICBcbiAgICBlX3ppY2h0YmFhcl9sYWJlbC5mb3IgPSB6aWNodGJhYXJfaWQ7XG5cbiAgICBlX3ZlcnBsaWNodF9jaGVjay50eXBlID0gJ2NoZWNrYm94JztcbiAgICBlX3ZlcnBsaWNodF9jaGVjay5pZCA9IHZlcnBsaWNodF9pZDtcbiAgICBlX3ZlcnBsaWNodF9jaGVjay5uYW1lID0gYHZlbGRlblske3ZlbGQuaWR9XVt2ZXJwbGljaHRdYDtcbiAgICBlX3ZlcnBsaWNodF9jaGVjay5jaGVja2VkID0gdmVsZC52ZXJwbGljaHQ7XG4gICAgZV92ZXJwbGljaHRfY2hlY2suZGlzYWJsZWQgPSAhdmVsZC50b25lbjtcbiAgICBcbiAgICBlX3ZlcnBsaWNodF9sYWJlbC5mb3IgPSB2ZXJwbGljaHRfaWQ7XG4gIH1cblxuICAvKipcbiAgICogTGlqc3QgbWV0YWRhdGEgb3BzbGFhbi5cbiAgICovXG4gIGFzeW5jIG9wc2xhYW4oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSh0aGlzLmVfZm9ybSk7XG4gICAgaWYgKCB0aGlzLmlzX25pZXV3KCkgKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsaWpzdF9pZCA9IGF3YWl0IHNlcnZlci5wb3N0KCdsaWpzdF9tYWtlbicsIGZkKTtcbiAgICAgICAgdGhpcy5vbl9saWpzdF9nZW1hYWt0LmVtaXQoe1xuICAgICAgICAgIGlkOiBsaWpzdF9pZCxcbiAgICAgICAgICBuYWFtOiBmZC5nZXQoJ25hYW0nKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kbW9kYWwubW9kYWwoJ2hpZGUnKTtcbiAgICAgIH0gY2F0Y2ggKG1zZykge1xuICAgICAgICBhbGVydChtc2cpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBzZXJ2ZXIucG9zdCgnbGlqc3Rfb3BzbGFhbicsIGZkKTtcbiAgICAgICAgdGhpcy5vbl9saWpzdF92ZXJhbmRlcmQuZW1pdCh7XG4gICAgICAgICAgaWQ6IHRoaXMubGlqc3RfaWQsXG4gICAgICAgICAgbmFhbTogZmQuZ2V0KCduYWFtJylcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJG1vZGFsLm1vZGFsKCdoaWRlJyk7XG4gICAgICB9IGNhdGNoIChtc2cpIHtcbiAgICAgICAgYWxlcnQobXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyB2ZXJ3aWpkZXJfbGlqc3QoZSkge1xuICAgIGNvbnN0IHZyYWFnID0gJ0RlemUgbGlqc3QgdmVyd2lqZGVyZW4/XFxuT29rIGFsbGUgc3RlbW1lbiBvcCBudW1tZXJzIHVpdCBkZXplIGxpanN0IHdvcmRlbiB2ZXJ3aWpkZXJkLic7XG4gICAgaWYgKCBjb25maXJtKHZyYWFnKSApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlcnZlci5wb3N0KCd2ZXJ3aWpkZXJfbGlqc3QnLCB7bGlqc3Q6IHRoaXMubGlqc3RfaWR9KTtcbiAgICAgICAgdGhpcy5vbl9saWpzdF92ZXJ3aWpkZXJkLmVtaXQoe1xuICAgICAgICAgIGlkOiB0aGlzLmxpanN0X2lkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiRtb2RhbC5tb2RhbCgnaGlkZScpO1xuICAgICAgfSBjYXRjaCAobXNnKSB7XG4gICAgICAgIGFsZXJ0KG1zZyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgdm9vciB3YW5uZWVyIGVyIGVlbiB2aW5ramUgdmVyYW5kZXJ0IGluIGRlIGludm9lcnZlbGRlbi5cbiAgICogV2FubmVlciBlZW4gdmlua2plIHdvcmR0IHVpdGdlemV0IHdvcmR0IGhldCBiaWpiZWhvcmVuZGUgJ3ZlcnBsaWNodCctdmlua2plXG4gICAqIHVpdGdlemV0IGVuIGRpc2FibGVkLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIFxuICAgKi9cbiAgY2hlY2tfdmVycGxpY2h0KGUpIHtcbiAgICBjb25zdCB2ZXJwbGljaHRfaWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5wdXQtdmVycGxpY2h0Jyk7XG4gICAgY29uc3QgdmVycGxpY2h0X2VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2ZXJwbGljaHRfaWQpO1xuICAgIGlmICggdmVycGxpY2h0X2VsZW0gaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICkge1xuICAgICAgaWYgKCBlLnRhcmdldC5jaGVja2VkICkge1xuICAgICAgICB2ZXJwbGljaHRfZWxlbS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVycGxpY2h0X2VsZW0uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB2ZXJwbGljaHRfZWxlbS5jaGVja2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmVfbW9kYWwucmVtb3ZlKCk7XG4gIH1cblxufVxuXG4vKiogQHR5cGUge0hUTUxFbGVtZW50fSAqL1xuY29uc3QgbW9kYWxfdGVtcGxhdGUgPSBmdW5jdGllcy5nZXRfaHRtbF90ZW1wbGF0ZShodG1sX3Jlc3VsdGF0ZW5fbW9kYWwpLml0ZW0oMCk7XG4vKiogQHR5cGUge0hUTUxDb2xsZWN0aW9ufSAqL1xuY29uc3QgcmVzdWx0YXRlbl9udW1tZXJfdGVtcGxhdGUgPSBmdW5jdGllcy5nZXRfaHRtbF90ZW1wbGF0ZShodG1sX3Jlc3VsdGF0ZW5fbnVtbWVyKTtcbi8qKiBAdHlwZSB7SFRNTFRhYmxlUm93RWxlbWVudH0gKi9cbmNvbnN0IHJlc3VsdGF0ZW5fc3RlbV90ZW1wbGF0ZSA9IGZ1bmN0aWVzLmdldF9odG1sX3RlbXBsYXRlKGh0bWxfcmVzdWx0YXRlbl9zdGVtKS5pdGVtKDApO1xuLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbmNvbnN0IGJlaGVlcl9tb2RhbF90ZW1wbGF0ZSA9IGZ1bmN0aWVzLmdldF9odG1sX3RlbXBsYXRlKGh0bWxfYmVoZWVyX21vZGFsKS5pdGVtKDApO1xuXG5uZXcgTWFpbigpO1xuIiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdiBjbGFzcz1cXFwibW9kYWwgZmFkZSByZXN1bHRhdGVuLW1vZGFsXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiPiA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPiA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXIgbW9kYWwtdG9wXFxcIj4gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPsOXPC9idXR0b24+IDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPlJlc3VsdGF0ZW4gdmFuIGRlIGxpanN0IOKAmDxzcGFuIGNsYXNzPVxcXCJsaWpzdC1uYWFtXFxcIj48L3NwYW4+4oCZPC9oND4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPiA8Zm9ybSBjbGFzcz1cXFwiZmlsdGVyc1xcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiPiA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+IDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBuYW1lPVxcXCJmaWx0ZXItbnVtbWVyc1xcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcIkZpbHRlciBudW1tZXJzXFxcIj4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj4gPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIG5hbWU9XFxcImZpbHRlci1zdGVtbWVyc1xcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcIkZpbHRlciBzdGVtbWVyc1xcXCI+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBkYXRlXFxcIj4gPGxhYmVsPnZhbjo8L2xhYmVsPiA8aW5wdXQgdHlwZT1cXFwiZGF0ZVxcXCIgbmFtZT1cXFwidmFuXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwIGRhdGVcXFwiPiA8bGFiZWw+dG90OjwvbGFiZWw+IDxpbnB1dCB0eXBlPVxcXCJkYXRlXFxcIiBuYW1lPVxcXCJ0b3RcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPiA8L2Rpdj4gPGRpdj4gPGlucHV0IHR5cGU9XFxcInN1Ym1pdFxcXCIgdmFsdWU9XFxcIkZpbHRlcnMgdG9lcGFzc2VuXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj4gPC9kaXY+IDxkaXY+IDxpbnB1dCB0eXBlPVxcXCJyZXNldFxcXCIgdmFsdWU9XFxcIkZpbHRlcnMgd2lzc2VuXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj4gPC9kaXY+IDwvZm9ybT4gPGRpdiBjbGFzcz1cXFwidGFibGUtcmVzcG9uc2l2ZVxcXCI+IDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZFxcXCI+IDx0aGVhZD4gPHRyPiA8dGg+PC90aD4gPHRoPlRpdGVsPC90aD4gPHRoPkFydGllc3Q8L3RoPiA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj48c3BhbiBjbGFzcz1cXFwidG90YWFsLWFhbnRhbC1zdGVtbWVuXFxcIj48L3NwYW4+IHN0ZW1tZW48YnI+IDxzcGFuIGNsYXNzPVxcXCJ0b3RhYWwtYWFudGFsLXN0ZW1tZXJzXFxcIj48L3NwYW4+IHN0ZW1tZXJzPC90aD4gPC90cj4gPC90aGVhZD4gPHRib2R5IGNsYXNzPVxcXCJyZXN1bHRhdGVuLXRhYmVsXFxcIj48L3Rib2R5PiA8L3RhYmxlPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlciBtb2RhbC1lbmRcXFwiPiA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+U2x1aXRlbjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiBcIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPHRyIGNsYXNzPVxcXCJudW1tZXIgaGFuZCBjb2xsYXBzZWRcXFwiPiA8dGQgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj4gPGkgY2xhc3M9XFxcImZhIGZhLXBsdXMtc3F1YXJlIGhlZWZ0LXN0ZW1tZW5cXFwiPjwvaT4gPGkgY2xhc3M9XFxcImZhIGZhLW1pbnVzLXNxdWFyZSBoZWVmdC1zdGVtbWVuXFxcIj48L2k+IDwvdGQ+IDx0ZCBjbGFzcz1cXFwibnVtbWVyLXRpdGVsXFxcIj48L3RkPiA8dGQgY2xhc3M9XFxcIm51bW1lci1hcnRpZXN0XFxcIj48L3RkPiA8dGQgY2xhc3M9XFxcInRleHQtY2VudGVyIGFhbnRhbC1zdGVtbWVuXFxcIj48L3RkPiA8L3RyPiA8dHI+IDx0ZCBjbGFzcz1cXFwiaGlkZGVuLXJvd1xcXCIgY29sc3Bhbj1cXFwiNVxcXCI+IDxkaXYgY2xhc3M9XFxcImJzLWNhbGxvdXQgYnMtY2FsbG91dC1pbmZvXFxcIj4gPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZVxcXCI+IDx0aGVhZD4gPHRyPiA8dGg+QWFuZ2V2cmFhZ2Qgb3A8L3RoPiA8dGg+VG9lbGljaHRpbmc8L3RoPiA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj5CZWhhbmRlbGQ8L3RoPiA8L3RyPiA8L3RoZWFkPiA8dGJvZHk+PC90Ym9keT4gPC90YWJsZT4gPC9kaXY+IDwvdGQ+IDwvdHI+IFwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8dHIgY2xhc3M9XFxcInN0ZW1tZXJcXFwiPiA8dGQgY2xhc3M9XFxcInN0ZW1tZXItdGltZXN0YW1wIG5vYnJlYWtcXFwiPjwvdGQ+IDx0ZCBjbGFzcz1cXFwic3RlbS10b2VsaWNodGluZ1xcXCI+PC90ZD4gPHRkIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBoYW5kXFxcIj4gPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiaGFuZCBiZWhhbmRlbGQtY2hlY2tcXFwiPiA8L3RkPiA8dGQ+IDxkaXYgY2xhc3M9XFxcImhhbmQgc3RlbS12ZXJ3aWpkZXJlblxcXCIgdGl0bGU9XFxcIlN0ZW0gdmVyd2lqZGVyZW5cXFwiPiA8aSBjbGFzcz1cXFwiZmEgZmEtdGltZXMgZmEtMSB0ZXh0LWRhbmdlclxcXCI+PC9pPiA8L2Rpdj4gPC90ZD4gPC90cj4gXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIE1vZHVsZVxudmFyIGNvZGUgPSBcIjxkaXYgY2xhc3M9XFxcIm1vZGFsIGZhZGUgbGlqc3RpbnN0ZWxsaW5nZW4gYmVoZWVyLW1vZGFsXFxcIiBpZD1cXFwiYmVoZWVyXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiPiA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPiA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXIgbW9kYWwtdG9wXFxcIj4gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPsOXPC9idXR0b24+IDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPiA8c3BhbiBjbGFzcz1cXFwibm90LWlzLW5pZXV3XFxcIj5CZWhlZXIgdmFuIGRlIGxpanN0IOKAmDxzcGFuIGNsYXNzPVxcXCJsaWpzdC1uYWFtXFxcIj48L3NwYW4+4oCZPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwiaXMtbmlldXdcXFwiPk5pZXV3ZSBtdXppZWtsaWpzdDwvc3Bhbj4gPC9oND4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPjxkaXYgY2xhc3M9XFxcImNvbnRhaW5lci1mbHVpZCBiZWhlZXJjb250YWluZXJcXFwiPiA8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiByb2xlPVxcXCJmb3JtXFxcIiBtZXRob2Q9XFxcInBvc3RcXFwiIGlkPVxcXCJiZWhlZXItbGlqc3RcXFwiPiA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJsaWpzdFxcXCI+IDxkaXYgY2xhc3M9XFxcInNlcGFyYXRvclxcXCI+PC9kaXY+IDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPiA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWwgY29sLXNtLTJcXFwiIGZvcj1cXFwibmFhbVxcXCI+TmFhbSBsaWpzdDo8L2xhYmVsPiA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTBcXFwiPiA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcIm5hYW1cXFwiIG5hbWU9XFxcIm5hYW1cXFwiIHJlcXVpcmVkPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcInNlcGFyYXRvclxcXCI+PC9kaXY+IDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPiA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWwgY29sLXNtLTJcXFwiIGZvcj1cXFwiZW1haWxcXFwiPkUtbWFpbGFkcmVzc2VuIHZvb3IgcmVhY3RpZXM6IDxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWluZm8tc2lnbiBwb2ludGVyXFxcIiB0aXRsZT1cXFwiTWVlcmRlcmUgZS1tYWlsYWRyZXNzZW4gc2NoZWlkZW4gZG9vciBlZW4ga29tbWEgKCAsIClcXFwiPjwvc3Bhbj48L2xhYmVsPiA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTBcXFwiPiA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcImVtYWlsXFxcIiBuYW1lPVxcXCJlbWFpbFxcXCI+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwic2VwYXJhdG9yXFxcIj48L2Rpdj4gPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+IDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbCBjb2wtc20tMlxcXCIgZm9yPVxcXCJiZWRhbmt0LXRla3N0XFxcIj5UZWtzdCB2b29yIGJlem9la2VycyBuYSBoZXQgc3RlbW1lbjogPHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24taW5mby1zaWduIHBvaW50ZXJcXFwiIHRpdGxlPVxcXCJEZSB0ZWtzdCBkaWUgZGUgc3RlbW1lcnMgdGUgemllbiBrcmlqZ2VuIG5hZGF0IHplIGh1biBzdGVtIGhlYmJlbiBpbmdlZGllbmQuXFxcIj48L3NwYW4+PC9sYWJlbD4gPGRpdiBjbGFzcz1cXFwiY29sLXNtLTEwXFxcIj4gPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJiZWRhbmt0LXRla3N0XFxcIiBuYW1lPVxcXCJiZWRhbmt0LXRla3N0XFxcIiB2YWx1ZT1cXFwiQmVkYW5rdCB2b29yIGplIGtldXplLlxcXCIgcmVxdWlyZWQ+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwic2VwYXJhdG9yXFxcIj48L2Rpdj4gPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+IDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbCBjb2wtc20tMlxcXCIgZm9yPVxcXCJ2ZWxkZW5cXFwiPlZlbGRlbiB0b25lbjo8L2xhYmVsPiA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB2ZWxkZW4temljaHRiYWFyLWtvbG9tXFxcIj48L2Rpdj4gPGRpdiBjbGFzcz1cXFwiY29sLXNtLTggdmVsZGVuLXZlcnBsaWNodC1rb2xvbVxcXCI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJzZXBhcmF0b3JcXFwiPjwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj4gPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsIGNvbC1zbS0yXFxcIiBmb3I9XFxcInZlbGRlblxcXCI+T3B0aWVzOjwvbGFiZWw+IDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+IE1pbmltdW0gYWFudGFsIGtldXplcyA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwibWlua2V1emVzXFxcIiBuYW1lPVxcXCJtaW5rZXV6ZXNcXFwiIG1pbj1cXFwiMVxcXCIgcmVxdWlyZWQ+PGJyPiBNYXhpbXVtIGFhbnRhbCBrZXV6ZXMgPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcIm1heGtldXplc1xcXCIgbmFtZT1cXFwibWF4a2V1emVzXFxcIiBtaW49XFxcIjFcXFwiIHJlcXVpcmVkPjxicj4gQWFudGFsIHZyaWplIGtldXplcyA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwidnJpamVrZXV6ZXNcXFwiIG5hbWU9XFxcInZyaWpla2V1emVzXFxcIiBtaW49XFxcIjBcXFwiIHJlcXVpcmVkPjxicj4gQWFudGFsIHN0ZW1tZW4gcGVyIElQIChsZWVnbGF0ZW4gdm9vciBvbmJlcGVya3QpIDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJzdGVtbWVuLXBlci1pcFxcXCIgbmFtZT1cXFwic3RlbW1lbi1wZXItaXBcXFwiIG1pbj1cXFwiMVxcXCI+PGJyPiA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGlkPVxcXCJpcy1hY3RpZWZcXFwiIG5hbWU9XFxcImlzLWFjdGllZlxcXCI+IExpanN0IGlzIGFjdGllZiAoc3RlbW1lbiBzdGFhdCBhYW4pPGJyPiA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGlkPVxcXCJhcnRpZXN0LWVlbm1hbGlnXFxcIiBuYW1lPVxcXCJhcnRpZXN0LWVlbm1hbGlnXFxcIj4gQXJ0aWVzdGVuIGVlbm1hbGlnIHRlIHNlbGVjdGVyZW4gPGJyPiA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGlkPVxcXCJyZWNhcHRjaGFcXFwiIG5hbWU9XFxcInJlY2FwdGNoYVxcXCI+IFJlLUNhcHRjaGE8YnI+IDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgaWQ9XFxcIm1haWwtc3RlbW1lcnNcXFwiIG5hbWU9XFxcIm1haWwtc3RlbW1lcnNcXFwiPiBTdHV1ciBzdGVtbWVycyBlZW4gZS1tYWlsIG5hZGF0IHppaiBoZWJiZW4gZ2VzdGVtZDxicj4gPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBpZD1cXFwicmFuZG9tLXZvbGdvcmRlXFxcIiBuYW1lPVxcXCJyYW5kb20tdm9sZ29yZGVcXFwiPiBUb29uIG51bW1lcnMgaW4gd2lsbGVrZXVyaWdlIHZvbGdvcmRlPGJyPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcInNlcGFyYXRvclxcXCI+PC9kaXY+IDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPiA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+PC9kaXY+IDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+IDxpbnB1dCB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiIHZhbHVlPVxcXCJPcHNsYWFuXFxcIj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGJlaGVlci1iZXN0YWFuZFxcXCI+IDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj48L2Rpdj4gPGRpdiBjbGFzcz1cXFwiY29sLXNtLTEwXFxcIj4gPGlucHV0IHR5cGU9XFxcImJ1dHRvblxcXCIgbmFtZT1cXFwidmVyd2lqZGVyLWxpanN0XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgbm90LWlzLW5pZXV3XFxcIiB2YWx1ZT1cXFwiTGlqc3QgdmVyd2lqZGVyZW5cXFwiPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcInNlcGFyYXRvciBiZWhlZXItYmVzdGFhbmRcXFwiPjwvZGl2PiA8L2Zvcm0+IDwvZGl2PjwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXIgbW9kYWwtZW5kXFxcIj4gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlNsdWl0ZW48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsImltcG9ydCAqIGFzIHNlcnZlciBmcm9tICdAbXV6aWVrbGlqc3Rlbi9zZXJ2ZXInO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdnVsX2RhdGF0YWJsZXMoXG4gIGRhdGE6IHtba2V5OiBzdHJpbmddOiBhbnl9LFxuICBjYWxsYmFjazogKGE6IHNlcnZlci5BamF4TWFwWyd2dWxfZGF0YXRhYmxlcyddWydyZXNwb25zZSddKSA9PiB2b2lkLFxuICBzZXR0aW5nczoge1trZXk6IHN0cmluZ106IGFueX1cbikge1xuICBjb25zdCByZXNwb25zID0gYXdhaXQgc2VydmVyLnBvc3QoJ3Z1bF9kYXRhdGFibGVzJywgZGF0YSk7XG4gIGNhbGxiYWNrKHJlc3BvbnMpO1xufVxuXG4vKipcbiAqIE1hYWt0IERPTS1lbGVtZW50ZW4gdmFuIGVlbiBkb29yIGh0bWwtbG9hZGVyIGdlw69tcG9ydGVlcmQgdGVtcGxhdGUuXG4gKiBAcmV0dXJucyBEZSByb290LWVsZW1lbnRlbiB2YW4gaGV0IHRlbXBsYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2h0bWxfdGVtcGxhdGUoZ2VpbXBvcnRlZXJkX3RlbXBsYXRlOiBzdHJpbmcpOiBIVE1MQ29sbGVjdGlvbiB7XG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gZ2VpbXBvcnRlZXJkX3RlbXBsYXRlLnRyaW0oKTtcbiAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuY2hpbGRyZW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfaHRtbF90ZW1wbGF0ZV9lbmtlbDxUIGV4dGVuZHMgRWxlbWVudD4oZ2VpbXBvcnRlZXJkX3RlbXBsYXRlOiBzdHJpbmcpOiBUIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBnZXRfaHRtbF90ZW1wbGF0ZShnZWltcG9ydGVlcmRfdGVtcGxhdGUpO1xuICBpZiAoIHRlbXBsYXRlLmxlbmd0aCAhPT0gMSApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGVtcGxhdGUtaHRtbCBtb2V0IGV4YWN0IMOpw6luIHJvb3QtZWxlbWVudCBoZWJiZW4uJyk7XG4gIH1cbiAgcmV0dXJuIHRlbXBsYXRlLml0ZW0oMCkgYXMgVDtcbn1cblxuLyoqXG4gKiBQbGFhdHN0IChub24gYnJlYWtpbmcpIHNwYXRpZXMgaW4gZWVuIE5lZGVybGFuZHMgaW50ZXJuYXRpb25hYWwgdGVsZWZvb25udW1tZXJcbiAqIHZvb3IgZGUgbGVlc2JhYXJoZWlkLlxuICogQHBhcmFtIHRlbGVmb29ubnVtbWVyIC0gT3JpZ2luZWVsIHRlbGVmb29ubnVtbWVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRfdGVsZWZvb25udW1tZXIoIHRlbGVmb29ubnVtbWVyOiBzdHJpbmcgKTogc3RyaW5nIHtcbiAgY29uc3QgcGF0cm9uZW4gPSBbXG4gICAgICAvLyBWaWVyY2lqZmVyaWdlIG5ldG51bW1lcnNcbiAgICAgIC9eKFxcKzMxKSgoPzoxMXwxNnwxN3wxOHwyMnwyNXwyOXwzMXwzMnwzNHw0MXw0NHw0N3w0N3w0OHw0OXw1MXw1Mnw1NHw1Nnw1N3w1OXw2N3w4MHw5MClbMC05XSkoWzAtOV17Mn0pKFswLTldezJ9KShbMC05XXsyfSkkLyxcbiAgICAgIC8vIEVlbmNpamZlcmlnZSBuZXRudW1tZXJzXG4gICAgICAvXihcXCszMSkoNikoWzAtOV17Mn0pKFswLTldezJ9KShbMC05XXsyfSkoWzAtOV17Mn0pJC8sXG4gICAgICAvLyBUd2VlY2lqZmVyaWdlIG5ldG51bW1lcnNcbiAgICAgIC9eKFxcKzMxKShbMC05XXsyfSkoWzAtOV17M30pKFswLTldezJ9KShbMC05XXsyfSkkL1xuICBdO1xuICBmb3IgKCBjb25zdCBwYXRyb29uIG9mIHBhdHJvbmVuICkge1xuICAgICAgbGV0IG0gPSB0ZWxlZm9vbm51bW1lci5tYXRjaChwYXRyb29uKTtcbiAgICAgIGlmICggbSAhPT0gbnVsbCAmJiBtLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgbS5zaGlmdCgpO1xuICAgICAgICAgIHJldHVybiBtLmpvaW4oJ8KgJyk7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHRlbGVmb29ubnVtbWVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3JhbmRvbV9zdHJpbmcobGVuZ3RlOiBudW1iZXIpIHtcbiAgbGV0IHJlc3BvbnMgPSAnJztcbiAgd2hpbGUgKCByZXNwb25zLmxlbmd0aCA8IGxlbmd0ZSApIHtcbiAgICByZXNwb25zICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikudG9TdHJpbmcoMzYpO1xuICB9XG4gIHJldHVybiByZXNwb25zLnN1YnN0cmluZygwLCBsZW5ndGUpO1xufVxuIiwiZXhwb3J0IHR5cGUgQWpheE1hcCA9IHtcbiAgZ2V0X3N0ZW1saWpzdF9mcm9udGVuZF9kYXRhOiB7XG4gICAgcmVxdWVzdDoge1xuICAgICAgbGlqc3Q6IG51bWJlclxuICAgIH1cbiAgICByZXNwb25zZToge1xuICAgICAgbWlua2V1emVzOiBudW1iZXJcbiAgICAgIG1heGtldXplczogbnVtYmVyXG4gICAgICB2cmlqZWtldXplczogbnVtYmVyXG4gICAgICBpc19hcnRpZXN0X2Vlbm1hbGlnOiBib29sZWFuXG4gICAgICBvcmdhbmlzYXRpZTogc3RyaW5nXG4gICAgICBsaWpzdF9uYWFtOiBzdHJpbmdcbiAgICAgIGhlZWZ0X2dlYnJ1aWtfcmVjYXB0Y2hhOiBib29sZWFuXG4gICAgICBpc19hY3RpZWY6IGJvb2xlYW5cbiAgICAgIHZlbGRlbjoge1xuICAgICAgICBpZDogbnVtYmVyXG4gICAgICAgIGxhYmVsOiBzdHJpbmdcbiAgICAgICAgbGVlZ19mZWVkYmFjazogc3RyaW5nXG4gICAgICAgIHR5cGU6IHN0cmluZ1xuICAgICAgICB2ZXJwbGljaHQ6IGJvb2xlYW5cbiAgICAgICAgbWF4OiBudW1iZXJcbiAgICAgICAgbWF4bGVuZ3RoOiBudW1iZXJcbiAgICAgICAgbWluOiBudW1iZXJcbiAgICAgICAgbWlubGVuZ3RoOiBudW1iZXJcbiAgICAgICAgcGxhY2Vob2xkZXI6IHN0cmluZ1xuICAgICAgfVtdXG4gICAgICByZWNhcHRjaGFfc2l0ZWtleTogc3RyaW5nXG4gICAgICBwcml2YWN5X3VybDogc3RyaW5nXG4gICAgICByYW5kb21fdm9sZ29yZGU6IGJvb2xlYW5cbiAgICB9XG4gIH1cbiAgdmVyd2lqZGVyX2xpanN0OiB7XG4gICAgcmVxdWVzdDoge1xuICAgICAgbGlqc3Q6IG51bWJlclxuICAgIH1cbiAgICByZXNwb25zZTogdm9pZFxuICB9XG4gIGxpanN0X29wc2xhYW46IHtcbiAgICByZXF1ZXN0OiBGb3JtRGF0YVxuICAgIHJlc3BvbnNlOiB2b2lkXG4gIH1cbiAgbGlqc3RfbWFrZW46IHtcbiAgICByZXF1ZXN0OiBGb3JtRGF0YVxuICAgIHJlc3BvbnNlOiBudW1iZXJcbiAgfVxuICBsb3NzZV9udW1tZXJzX3RvZXZvZWdlbjoge1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgIG51bW1lcnM6IHtcbiAgICAgICAgYXJ0aWVzdDogc3RyaW5nXG4gICAgICAgIHRpdGVsOiBzdHJpbmdcbiAgICAgIH1bXVxuICAgICAgbGlqc3RlbjogbnVtYmVyW11cbiAgICB9XG4gICAgcmVzcG9uc2U6IHtcbiAgICAgIHRvZWdldm9lZ2Q6IG51bWJlclxuICAgICAgZHViYmVsOiBudW1iZXJcbiAgICAgIGxpanN0ZW5fbnVtbWVyczogbnVtYmVyXG4gICAgfVxuICB9XG4gIGdldF9saWpzdGVuOiB7XG4gICAgcmVxdWVzdDoge31cbiAgICByZXNwb25zZToge1xuICAgICAgaWQ6IG51bWJlclxuICAgICAgbmFhbTogc3RyaW5nXG4gICAgfVtdXG4gIH1cbiAgc3RlbV9zZXRfYmVoYW5kZWxkOiB7XG4gICAgcmVxdWVzdDoge1xuICAgICAgbnVtbWVyOiBudW1iZXJcbiAgICAgIGxpanN0OiBudW1iZXJcbiAgICAgIHN0ZW1tZXI6IG51bWJlclxuICAgICAgd2FhcmRlOiBib29sZWFuXG4gICAgfVxuICAgIHJlc3BvbnNlOiB2b2lkXG4gIH1cbiAgdmVyd2lqZGVyX3N0ZW06IHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBudW1tZXI6IG51bWJlclxuICAgICAgbGlqc3Q6IG51bWJlclxuICAgICAgc3RlbW1lcjogbnVtYmVyXG4gICAgfVxuICAgIHJlc3BvbnNlOiB2b2lkXG4gIH1cbiAgdmVyd2lqZGVyX251bW1lcjoge1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgIGxpanN0OiBudW1iZXJcbiAgICAgIG51bW1lcjogbnVtYmVyXG4gICAgfVxuICAgIHJlc3BvbnNlOiB2b2lkXG4gIH1cbiAgZ2V0X3RvdGFhbF9hYW50YWxfc3RlbW1lcnM6IHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBsaWpzdDogbnVtYmVyXG4gICAgICB2YW4/OiBzdHJpbmdcbiAgICAgIHRvdD86IHN0cmluZ1xuICAgIH1cbiAgICByZXNwb25zZTogbnVtYmVyXG4gIH1cbiAgc3RlbToge1xuICAgIHJlcXVlc3Q6IEZvcm1EYXRhXG4gICAgcmVzcG9uc2U6IHN0cmluZ1xuICB9XG4gIGxpanN0X251bW1lcl90b2V2b2VnZW46IHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBsaWpzdDogbnVtYmVyXG4gICAgICBudW1tZXI6IG51bWJlclxuICAgIH1cbiAgICByZXNwb25zZTogdm9pZFxuICB9XG4gIGxpanN0X251bW1lcl92ZXJ3aWpkZXJlbjoge1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgIGxpanN0OiBudW1iZXJcbiAgICAgIG51bW1lcjogbnVtYmVyXG4gICAgfVxuICAgIHJlc3BvbnNlOiB2b2lkXG4gIH1cbiAgZ2V0X2dlc2VsZWN0ZWVyZGVfbnVtbWVyczoge1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgIGxpanN0OiBudW1iZXJcbiAgICB9XG4gICAgcmVzcG9uc2U6IHtcbiAgICAgIGlkOiBudW1iZXJcbiAgICAgIHRpdGVsOiBzdHJpbmdcbiAgICAgIGFydGllc3Q6IHN0cmluZ1xuICAgICAgamFhcjogbnVtYmVyXG4gICAgfVtdXG4gIH1cbiAgdnVsX2RhdGF0YWJsZXM6IHtcbiAgICByZXF1ZXN0OiB7W2luZGV4OnN0cmluZ106IGFueX1cbiAgICByZXNwb25zZToge1xuICAgICAgZHJhdzogbnVtYmVyXG4gICAgICByZWNvcmRzVG90YWw6IG51bWJlclxuICAgICAgcmVjb3Jkc0ZpbHRlcmVkOiBudW1iZXJcbiAgICAgIGRhdGE6IHN0cmluZ1tdW11cbiAgICB9XG4gIH1cbiAgZ2V0X3Jlc3VsdGF0ZW5fbGFiZWxzOiB7XG4gICAgcmVxdWVzdDoge1xuICAgICAgbGlqc3Q6IG51bWJlclxuICAgIH1cbiAgICByZXNwb25zZTogc3RyaW5nW11cbiAgfVxuICBnZXRfcmVzdWx0YXRlbjoge1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgIGxpanN0OiBudW1iZXJcbiAgICB9XG4gICAgcmVzcG9uc2U6IHtcbiAgICAgIG51bW1lcjoge1xuICAgICAgICBhcnRpZXN0OiBzdHJpbmdcbiAgICAgICAgaWQ6IG51bWJlclxuICAgICAgICBpc192cmlqZWtldXplOiBib29sZWFuXG4gICAgICAgIHRpdGVsOiBzdHJpbmdcbiAgICAgIH1cbiAgICAgIHN0ZW1tZW46IHtcbiAgICAgICAgaXA6IHN0cmluZ1xuICAgICAgICBpc19iZWhhbmRlbGQ6IGJvb2xlYW5cbiAgICAgICAgc3RlbW1lcl9pZDogbnVtYmVyXG4gICAgICAgIHRpbWVzdGFtcDogc3RyaW5nXG4gICAgICAgIHRvZWxpY2h0aW5nOiBzdHJpbmdcbiAgICAgICAgdmVsZGVuOiB7XG4gICAgICAgICAgdHlwZTogc3RyaW5nXG4gICAgICAgICAgd2FhcmRlOiBzdHJpbmdcbiAgICAgICAgfVtdXG4gICAgICB9W11cbiAgICB9W11cbiAgfVxuICBnZXRfbGlqc3RfbWV0YWRhdGE6IHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBsaWpzdDogbnVtYmVyXG4gICAgfVxuICAgIHJlc3BvbnNlOiB7XG4gICAgICBuYWFtOiBzdHJpbmdcbiAgICAgIG51bW1lcl9pZHM6IG51bWJlcltdXG4gICAgICBpZnJhbWVfdXJsOiBzdHJpbmdcbiAgICB9XG4gIH1cbiAgZ2V0X21ldGFkYXRhOiB7XG4gICAgcmVxdWVzdDoge31cbiAgICByZXNwb25zZToge1xuICAgICAgb3JnYW5pc2F0aWU6IHN0cmluZ1xuICAgICAgbGlqc3Rlbjoge1xuICAgICAgICBpZDogbnVtYmVyXG4gICAgICAgIG5hYW06IHN0cmluZ1xuICAgICAgfVtdXG4gICAgICBuaW1idXNfdXJsOiBzdHJpbmdcbiAgICAgIHRvdGFhbF9hYW50YWxfbnVtbWVyczogbnVtYmVyXG4gICAgfVxuICB9XG4gIGdldF9hbGxlX3ZlbGRlbjoge1xuICAgIHJlcXVlc3Q6IHt9XG4gICAgcmVzcG9uc2U6IHtcbiAgICAgIGlkOiBudW1iZXIsXG4gICAgICB0b25lbjogZmFsc2UsXG4gICAgICBsYWJlbDogc3RyaW5nLFxuICAgICAgdmVycGxpY2h0OiBmYWxzZVxuICAgIH1bXVxuICB9XG4gIGdldF9iZWhlZXJfbGlqc3RkYXRhOiB7XG4gICAgcmVxdWVzdDoge1xuICAgICAgbGlqc3Q6IG51bWJlclxuICAgIH1cbiAgICByZXNwb25zZToge1xuICAgICAgbmFhbTogc3RyaW5nLFxuICAgICAgaXNfYWN0aWVmOiBib29sZWFuLFxuICAgICAgbWlua2V1emVzOiBudW1iZXIsXG4gICAgICBtYXhrZXV6ZXM6IG51bWJlcixcbiAgICAgIHZyaWpla2V1emVzOiBudW1iZXIsXG4gICAgICBzdGVtbWVuX3Blcl9pcDogbnVtYmVyIHwgbnVsbCxcbiAgICAgIGFydGllc3RfZWVubWFsaWc6IGJvb2xlYW4sXG4gICAgICBtYWlsX3N0ZW1tZXJzOiBib29sZWFuLFxuICAgICAgcmFuZG9tX3ZvbGdvcmRlOiBib29sZWFuLFxuICAgICAgcmVjYXB0Y2hhOiBib29sZWFuLFxuICAgICAgZW1haWw6IHN0cmluZyxcbiAgICAgIGJlZGFua3RfdGVrc3Q6IHN0cmluZyxcbiAgICAgIHZlbGRlbjoge1xuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICB0b25lbjogYm9vbGVhbixcbiAgICAgICAgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgdmVycGxpY2h0OiBib29sZWFuXG4gICAgICB9W11cbiAgICB9XG4gIH1cbiAgbG9naW46IHtcbiAgICByZXF1ZXN0OiB7fVxuICAgIHJlc3BvbnNlOiB2b2lkXG4gIH1cbn07XG5cbi8qKlxuICogVm9lcnQgZWVuIHBvc3QtcmVxdWVzdCB1aXQgYWFuIGRlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc3Q8RiBleHRlbmRzIGtleW9mIEFqYXhNYXA+KFxuICBmdW5jdGllOiBGLFxuICBkYXRhOiBBamF4TWFwW0ZdWydyZXF1ZXN0J11cbik6IFByb21pc2U8QWpheE1hcFtGXVsncmVzcG9uc2UnXT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICB4aHIub3BlbignUE9TVCcsICdhamF4LnBocCcsIHRydWUpO1xuICAgICAgeGhyLm9ubG9hZCA9IChwb3N0X3ZlcndlcmtfcmVzcG9uczxBamF4TWFwW0ZdWydyZXNwb25zZSddPikuYmluZCh1bmRlZmluZWQsIHhociwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIHhoci5vbmVycm9yID0gKHBvc3RfdmVyd2Vya19yZXNwb25zPEFqYXhNYXBbRl1bJ3Jlc3BvbnNlJ10+KS5iaW5kKHVuZGVmaW5lZCwgeGhyLCByZXNvbHZlLCByZWplY3QpO1xuXG4gICAgICBsZXQgc2VuZF9kYXRhOiBGb3JtRGF0YSB8IHN0cmluZztcbiAgICAgIGlmICggZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhICkge1xuICAgICAgICAgIGRhdGEuYXBwZW5kKCdmdW5jdGllJywgZnVuY3RpZSk7XG4gICAgICAgICAgc2VuZF9kYXRhID0gZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VuZF9kYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZnVuY3RpZTogZnVuY3RpZSxcbiAgICAgICAgICAgIC4uLmRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIH1cbiAgICAgIHhoci5zZW5kKHNlbmRfZGF0YSk7XG4gIH0pO1xufVxuXG4vKipcbiogVmVyd2Vya3QgZWVuIHNlcnZlcnJlc3BvbnMuXG4qIEBwYXJhbSByZXNvbHZlIC0gVWl0IHRlIHZvZXJlbiBmdW5jdGllIGJpaiBlZW4gc3VjY2Vzdm9sbGUgdWl0dm9lcmluZy5cbiogQHBhcmFtIHJlamVjdCAtIFVpdCB0ZSB2b2VyZW4gZnVuY3RpZSBiaWogZWVuIG1pc2x1a3QgcmVxdWVzdC5cbiovXG5mdW5jdGlvbiBwb3N0X3ZlcndlcmtfcmVzcG9uczxUPihcbiAgeGhyOiBYTUxIdHRwUmVxdWVzdCxcbiAgcmVzb2x2ZTogKHJlc3BvbnM6IFQpID0+IHZvaWQsXG4gIHJlamVjdDogKGVycm9yOiBFcnJvcikgPT4gdm9pZCxcbiAgZXZlbnQ6IFByb2dyZXNzRXZlbnRcbikge1xuICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcbiAgICAgIGlmICggZGF0YS5lcnJvciAhPT0gZmFsc2UgKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihkYXRhLmVycm9yZGF0YSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QobmV3IEVycm9yKHhoci5yZXNwb25zZVRleHQpKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImxpc3RlbmVycyIsImxpc3RlbmVyc09uY2VyIiwib24iLCJsaXN0ZW5lciIsInRoaXMiLCJwdXNoIiwiZGlzcG9zZSIsIm9mZiIsIm9uY2UiLCJjYWxsYmFja0luZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImVtaXQiLCJldmVudCIsImZvckVhY2giLCJsZW5ndGgiLCJ0b0NhbGwiLCJwaXBlIiwidGUiLCJlIiwiUmVzdWx0YXRlbk1vZGFsIiwibGlqc3RfaWQiLCJlX21vZGFsIiwiJG1vZGFsIiwiZV90b3RhYWxfYWFudGFsX3N0ZW1tZW4iLCJlX3RvdGFhbF9hYW50YWxfc3RlbW1lcnMiLCJlX2ZpbHRlcnNfZm9ybSIsImVfcmVzdWx0YXRlbl90YWJlbCIsInJlc3VsdGF0ZW5fbnVtbWVycyIsInRvdGFhbF9hYW50YWxfc3RlbW1lbiIsImNvbnN0cnVjdG9yIiwibGlqc3RfbmFhbSIsIm1vZGFsX3RlbXBsYXRlIiwiY2xvbmVOb2RlIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIml0ZW0iLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpbHRlciIsImJpbmQiLCJmaWx0ZXJfcmVzZXQiLCJpZCIsImZ1bmN0aWVzIiwic2V0X3RvdGFhbF9hYW50YWxfc3RlbW1lcnMiLCJtYWFrX3Jlc3VsdGF0ZW5fdGFiZWwiLCJlX2xpanN0X25hYW0iLCJxdWVyeVNlbGVjdG9yQWxsIiwidGV4dENvbnRlbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXBwZW5kQ2hpbGQiLCIkIiwibW9kYWwiLCJiYWNrZHJvcCIsImZvY3VzIiwia2V5Ym9hcmQiLCJyZW1vdmUiLCJjbGlja19oYW5kbGVyIiwiY2hhbmdlX2hhbmRsZXIiLCJsYWJlbHNfcHJvbWlzZSIsInNlcnZlciIsImxpanN0IiwibnVtbWVyc19zdGVtbWVuIiwibnVtbWVyX3N0ZW1tZW4iLCJyZXN1bHRhdGVuX251bW1lciIsIlJlc3VsdGF0ZW5OdW1tZXIiLCJzdGVtbWVuIiwibnVtbWVyIiwib25fc3RlbV92ZXJ3aWpkZXJkIiwic3RlbV92ZXJ3aWpkZXJkX2hhbmRsZXIiLCJvbl92ZXJ3aWpkZXJkIiwibnVtbWVyX3ZlcndpamRlcmRfaGFuZGxlciIsImFkZF90b3RhYWxfYWFudGFsX3N0ZW1tZW4iLCJhYW50YWwiLCJpbm5lclRleHQiLCJyZXF1ZXN0IiwiYWFudGFsX3N0ZW1tZW4iLCJwcmV2ZW50RGVmYXVsdCIsIm51bW1lcnNfdGVrc3QiLCJlbGVtZW50cyIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJzdGVtbWVyc190ZWtzdCIsIm51bW1lcl9pZCIsIk9iamVjdCIsImVudHJpZXMiLCJnZXRfdmFuIiwiZ2V0X3RvdCIsImVsZW1lbnQiLCJ0eXBlIiwidGFyZ2V0IiwiSFRNTEVsZW1lbnQiLCJjbG9zZXN0Iiwic3RlbV92ZXJ3aWpkZXJlbl9oYW5kbGVyIiwidG9nZ2xlX251bW1lcl9zdGVtbWVuX2hhbmRsZXIiLCJjaGVja19iZWhhbmRlbGRfaGFuZGxlciIsImVsZW0iLCJOdW1iZXIiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsInRvZ2dsZSIsInN0ZW1tZXJfaWQiLCJyZXN1bHRhdGVuX3N0ZW0iLCJnZXRfc3RlbSIsInZlcndpamRlcmVuIiwiYmVoYW5kZWxkX2hhbmRsZXIiLCJ2YW4iLCJEYXRlIiwiaXNOYU4iLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJzZXRTZWNvbmRzIiwic2V0TWlsbGlzZWNvbmRzIiwidG90Iiwic2V0RGF0ZSIsImdldERhdGUiLCJyZXN1bHRhdGVuX21vZGFsIiwiZV9jb250YWluZXIiLCJyZXN1bHRhdGVuX3N0ZW1tZW4iLCJlX3RyX3VpdGtsYXAiLCJlX3RyX2dlZ2V2ZW5zIiwiZV9hYW50YWxfc3RlbW1lbiIsInRpdGVsIiwiYXJ0aWVzdCIsImlzX3ppY2h0YmFhciIsInN0ZW1tZW5fZ2VmaWx0ZXJkIiwiVHlwZWRFdmVudCIsInN0ZW1tZW5fZmlsdGVyIiwicmVzdWx0YXRlbl9udW1tZXJfdGVtcGxhdGUiLCJzZXRfbnVtbWVyIiwiY2xhc3NMaXN0IiwiYWRkIiwidXBkYXRlX2FhbnRhbF9zdGVtbWVuIiwidXBkYXRlX2JlaGFuZGVsZCIsIl9yZWYzIiwiaXNfdnJpamVrZXV6ZSIsInNldEF0dHJpYnV0ZSIsImVfbnVtbWVyX3RpdGVsIiwiY3JlYXRlVGV4dE5vZGUiLCJlX251bW1lcl9hcnRpZXN0IiwibWFha192ZWxkZW5fbGFiZWxzIiwiRXJyb3IiLCJlX2luc2VydF9iZWZvcmUiLCJmaXJzdENoaWxkIiwibGFiZWxzIiwibGFiZWwiLCJlX2xhYmVsIiwiY3JlYXRlRWxlbWVudCIsImluc2VydEJlZm9yZSIsIm1hYWtfc3RlbW1lbiIsImVfdGJvZHkiLCJzdGVtIiwiUmVzdWx0YXRlblN0ZW0iLCJvbl9jaGFuZ2VfaXNfYmVoYW5kZWxkIiwiYmVoYW5kZWxkX2NoYW5nZV9oYW5kbGVyIiwiaXNfYmVoYW5kZWxkIiwiaSIsImZpbmRJbmRleCIsImV2ZXJ5IiwiaW5rbGFwcGVuIiwiaW5jbHVkZXMiLCJmaWx0ZXJfc3RlbW1lbiIsInRla3N0IiwibWV0YWRhdGFfdm9vcl9maWx0ZXIiLCJ2ZWxkZW4iLCJtYXAiLCJ2ZWxkIiwid2FhcmRlIiwiam9pbiIsInRvZWxpY2h0aW5nIiwidGltZXN0YW1wIiwiaXNfdWl0Z2VrbGFwdCIsInVuZGVmaW5lZCIsInVpdGtsYXBwZW4iLCJhZnRlciIsImVfdHIiLCJlX2JlaGFuZGVsZF9pbnB1dCIsIl9yZWY0IiwiaXAiLCJyZXN1bHRhdGVuX3N0ZW1fdGVtcGxhdGUiLCJjaGVja2VkIiwiZV90aW1lc3RhbXAiLCJ0b0xvY2FsZVN0cmluZyIsImRhdGVTdHlsZSIsInRpbWVTdHlsZSIsImVfdG9lbGljaHRpbmciLCJtYWFrX3ZlbGRlbiIsImVfdGQiLCJlX2EiLCJwcmVmaXgiLCJzdGVtbWVyIiwiQmVoZWVyTW9kYWwiLCJlX2Zvcm0iLCJlX3ZlbGRlbl96aWNodGJhYXJfa29sb20iLCJlX3ZlbGRlbl92ZXJwbGljaHRfa29sb20iLCJvbl9saWpzdF9nZW1hYWt0Iiwib25fbGlqc3RfdmVyYW5kZXJkIiwib25fbGlqc3RfdmVyd2lqZGVyZCIsImJlaGVlcl9tb2RhbF90ZW1wbGF0ZSIsImlzX25pZXV3IiwibWFha19sZWdlX3ZlbGRfY2hlY2tzIiwidnVsX2RhdGEiLCJvcHNsYWFuIiwidmVyd2lqZGVyX2xpanN0IiwiZGVzdHJveSIsImRhdGEiLCJuYWFtIiwiaXNfYWN0aWVmIiwibWlua2V1emVzIiwibWF4a2V1emVzIiwidnJpamVrZXV6ZXMiLCJzdGVtbWVuX3Blcl9pcCIsImFydGllc3RfZWVubWFsaWciLCJtYWlsX3N0ZW1tZXJzIiwicmFuZG9tX3ZvbGdvcmRlIiwicmVjYXB0Y2hhIiwiZW1haWwiLCJiZWRhbmt0X3Rla3N0IiwibWFha192ZWxkX2NoZWNrcyIsInppY2h0YmFhcl9pZCIsInZlcnBsaWNodF9pZCIsImVfemljaHRiYWFyX2NvbnRhaW5lciIsImVfemljaHRiYWFyX2xhYmVsIiwiZV96aWNodGJhYXJfY2hlY2siLCJlX3ppY2h0YmFhcl9sYWJlbF90ZWtzdCIsImVfdmVycGxpY2h0X2NvbnRhaW5lciIsImVfdmVycGxpY2h0X2xhYmVsIiwiZV92ZXJwbGljaHRfY2hlY2siLCJlX3ZlcnBsaWNodF9sYWJlbF90ZWtzdCIsIm5hbWUiLCJ0b25lbiIsImNoZWNrX3ZlcnBsaWNodCIsImZvciIsInZlcnBsaWNodCIsImRpc2FibGVkIiwiZmQiLCJGb3JtRGF0YSIsImdldCIsIm1zZyIsImFsZXJ0IiwiY29uZmlybSIsInZlcnBsaWNodF9lbGVtIiwiZ2V0RWxlbWVudEJ5SWQiLCJIVE1MSW5wdXRFbGVtZW50IiwibGlqc3RfbmFhbV9wcm9taXNlIiwiZV9ib2R5IiwiZV9saWpzdF9zZWxlY3QiLCJlX2dlc2VsZWN0ZWVyZF9saWpzdCIsImVfYWFudGFsX2dlc2VsZWN0ZWVyZGVfbnVtbWVycyIsImdlc2VsZWN0ZWVyZGVfbnVtbWVycyIsInRhYmVsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ2dWxfbWV0YWRhdGEiLCJ0aGVuIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJlX29wdGlvbiIsIm9wdGlvbnMiLCJzZWxlY3RlZCIsInNldF9saWpzdCIsIkRhdGFUYWJsZSIsInByb2Nlc3NpbmciLCJzZXJ2ZXJTaWRlIiwiYWpheCIsImNhbGxiYWNrIiwic2V0dGluZ3MiLCJjb2x1bW5EZWZzIiwidGFyZ2V0cyIsInNlYXJjaGFibGUiLCJvcmRlcmFibGUiLCJjbGFzc05hbWUiLCJyZW5kZXIiLCJfcmVmIiwibWV0YSIsIm51bW1lcl9pZDIiLCJqYWFyIiwiaW5wdXQiLCJvdXRlckhUTUwiLCJvcmRlciIsInJvd0NhbGxiYWNrIiwidG9vbl9nZXNlbGVjdGVlcmQiLCJsYW5ndWFnZSIsImxlbmd0aE1lbnUiLCJ6ZXJvUmVjb3JkcyIsImluZm8iLCJpbmZvRW1wdHkiLCJpbmZvRmlsdGVyZWQiLCJwYWdpbmF0ZSIsImZpcnN0IiwibGFzdCIsIm5leHQiLCJwcmV2aW91cyIsImxpanN0X3NlbGVjdF9oYW5kbGVyIiwiYmVoZWVyX2tub3BfaGFuZGxlciIsIm5pZXV3X2tub3BfaGFuZGxlciIsInJlc3VsdGF0ZW5fa25vcF9oYW5kbGVyIiwiY2hlY2tib3hfaGFuZGxlciIsInVybCIsIlVSTCIsImhyZWYiLCJwYXJhbXMiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJ3aW5kb3ciLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiYmV3ZXJra25vcCIsInJlbW92ZUF0dHJpYnV0ZSIsImxpanN0X2RhdGFfcHJvbWlzZSIsInZ1bF9saWpzdF9tZXRhZGF0YSIsImxpanN0X2RhdGEiLCJkcmF3IiwiZV9vcmdhbmlzYXRpZSIsIm9yZ2FuaXNhdGllIiwibGlqc3RlbiIsIk9wdGlvbiIsInRvdGFhbF9hYW50YWxfbnVtbWVycyIsImVfbmltYnVzX3VybCIsIm5pbWJ1c191cmwiLCJlX25hYW0iLCJlX2lmcmFtZV91cmwiLCJpZnJhbWVfdXJsIiwiZV9pZnJhbWVfY29kZSIsIm51bW1lcl9pZHMiLCJ2dWxfbGlqc3RfZ2VzZWxlY3RlZXJkZV9udW1tZXJzIiwiZV9mb3JtX2NvbnRyb2xzIiwiZV9yaWoiLCJlX2NoZWNrYm94IiwibWF0Y2hlcyIsInJvdyIsImluZGV4IiwibnVtbWVyX3RvZXZvZWdlbiIsInByb3AiLCJudW1tZXJfdmVyd2lqZGVyZW4iLCJ1bnNldF9saWpzdCIsIl9yZWYyIiwiZGF0YUluZGV4IiwibnVtbWVycyIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZV90aXRlbCIsImVfYXJ0aWVzdCIsImVfamFhciIsImxpanN0X3RvZWdldm9lZ2QiLCJsaWpzdF92ZXJhbmRlcmQiLCJsaWpzdF92ZXJ3aWpkZXJkIiwic2VsZWN0ZWRJbmRleCIsInRleHQiLCJkZWxldGUiLCJhc3luYyIsInZ1bF9kYXRhdGFibGVzIiwiZ2V0X2h0bWxfdGVtcGxhdGUiLCJnZWltcG9ydGVlcmRfdGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsImlubmVySFRNTCIsInRyaW0iLCJjb250ZW50IiwiY2hpbGRyZW4iLCJmb3JtYXRfdGVsZWZvb25udW1tZXIiLCJ0ZWxlZm9vbm51bW1lciIsInBhdHJvbmVuIiwicGF0cm9vbiIsIm0iLCJtYXRjaCIsInNoaWZ0IiwiZ2V0X3JhbmRvbV9zdHJpbmciLCJsZW5ndGUiLCJyZXNwb25zIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiTUFYX1NBRkVfSU5URUdFUiIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwicG9zdCIsImZ1bmN0aWUiLCJyZWplY3QiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInNlbmRfZGF0YSIsIm9wZW4iLCJvbmxvYWQiLCJwb3N0X3ZlcndlcmtfcmVzcG9ucyIsIm9uZXJyb3IiLCJhcHBlbmQiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJwYXJzZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJlcnJvcmRhdGEiLCJyZXNwb25zZVRleHQiXSwic291cmNlUm9vdCI6IiJ9